{"version":3,"sources":["i18n.js","libs/utils/timer.js","components/schulte-table.jsx","components/countdown.jsx","components/numeric-keypad.jsx","components/quiz-attempt.jsx","components/quiz-result.jsx","components/quiz-setting.jsx","components/seo.jsx","pages/quiz-page.jsx","libs/utils/random.js","libs/question-bank/base.js","libs/question-bank/schulte-table.js","libs/question-bank/addition.js","libs/question-bank/subtraction.js","libs/question-bank/multiplication.js","components/clock.jsx","libs/question-bank/clock.js","app-routes.js","pages/menu-page.jsx","app.jsx","index.js"],"names":["Translations","whitelist","addTranslation","translation","path","name","language","push","en","zhtw","zhcn","ja","i18n","use","LanguageDetector","reactI18nextModule","init","lowerCaseLng","resources","fallbackLng","keySeparator","interpolation","escapeValue","Timer","callback","start","intervalId","setInterval","durationSeconds","intervalSeconds","stop","clearInterval","restart","getDuration","this","SchulteTable","props","updateTime","seconds","setState","time","toFixed","checkAnswer","reply","answerTimer","clearTimeout","effectId","sytle","cursor","state","correct","questionBank","value","logAnswer","nextCursor","timer","onFinish","results","clicked","setTimeout","squareRoot","Math","sqrt","characters","length","result","question","description","t","answer","text","duration","nextQuestion","className","map","character","onClick","Component","Countdown","reset","pause","resume","countdown","maximum","onChanged","timeout","min","getStatus","rate","round","parseFloat","max","NumericKeypad","num","input","onBack","clear","substring","onConfirm","numbers","i","QuizAttempt","choices","splice","count","getCount","getCursor","current","numericKeypad","convertText","disableSecondhand","onCountdownChanged","renderSwitch","answerMethod","ref","parseInt","choice","getSetting","timeoutSeconds","React","createRef","QuizResult","incorrect","forEach","avgDuration","score","floor","onClose","style","width","enableReview","onReview","QuizSetting","onStart","ready","options","x","selections","filter","s","selected","onSelected","event","option","selection","target","checked","type","selectedAll","updateMenuItem","onSlide","toggleAll","j","onChange","e","step","unit","title","getTitle","getOptions","SEO","langCode","lang","keywords","document","meta","content","itemprop","property","window","location","href","link","replace","rel","hreflang","Helmet","htmlAttributes","QuizPage","setSettings","initQuestions","componentName","showResult","isShowResult","questions","incorrectQuestions","concat","setQuestions","quizAttempt","history","handleUnload","bind","addEventListener","removeEventListener","returnValue","withRouter","RandomUtil","pickRandomItems","arr","items","index","getRandomInt","item","getRandomIntRange","random","QuestionBankBase","generateChoices","answerRange","seeds","randomCount","currentQuestion","toString","sections","getSections","settings","component","choiceCount","SchulteTableQuestionBank","section","getCharacters","ceil","pow","char","str","Array","from","split","AdditionQuestionBank","minimum","minSummation","maxSummation","maxCount","questionCount","questionCountOfSection","hashMap","Map","size","summation","y","key","set","SubtractionQuestionBank","MultiplicationQuestionBank","level","multiplier","multiplicand","Clock","drawClock","hhmmss","canvas","height","context","getContext","radius","translate","hour","minute","second","drawFace","drawNumbers","drawTime","beginPath","arc","PI","fillStyle","fill","font","textBaseline","textAlign","ang","rotate","fillText","drawHand","pos","strokeStyle","lineWidth","lineCap","moveTo","lineTo","stroke","nextProps","ClockQuestionBank","secondsInDay","disableSeconds","padStart","AppRoutes","MenuPage","translations","hrefLang","origin","route","to","App","pathname","changeLanguage","exact","withNamespaces","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.58780a31.chunk.js","sourcesContent":["import i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\nimport {\n  reactI18nextModule\n} from \"react-i18next\";\nimport en from \"./locales/en.json\";\nimport zhtw from \"./locales/zh-tw.json\";\nimport zhcn from \"./locales/zh-cn.json\";\nimport ja from \"./locales/ja.json\";\n\n// ref: https://react.i18next.com/legacy-v9/step-by-step-guide\n\nexport const Translations = {};\nconst whitelist = [];\n\nlet addTranslation = function (translation) {\n  Translations[translation.path] = {\n    name: translation.language,\n    translation: translation\n  };\n  whitelist.push(translation.path);\n}\n\naddTranslation(en);\naddTranslation(zhtw);\naddTranslation(zhcn);\naddTranslation(ja);\n\ni18n\n  .use(LanguageDetector)\n  .use(reactI18nextModule)\n  .init({\n    lowerCaseLng: true,\n    whitelist: whitelist,\n    resources: Translations,\n    fallbackLng: \"en\",\n    keySeparator: false,\n    interpolation: {\n      escapeValue: false\n    }\n  });\n\nexport default i18n;","export default class Timer {\n  constructor(callback) {\n    this.intervalSeconds = 0.1;\n    this.durationSeconds = 0;\n    this.callback = callback;\n  }\n\n  start = () => {\n    this.intervalId = setInterval(() => {\n      this.durationSeconds += this.intervalSeconds;\n      if (this.callback) this.callback(this.durationSeconds);\n    }, this.intervalSeconds * 1000);\n  }\n\n  stop = () => {\n    if (this.intervalId) clearInterval(this.intervalId);\n  }\n\n  restart = () => {\n    this.stop();\n    this.durationSeconds = 0;\n    this.start();\n  }\n\n  getDuration = () => {\n    return this.durationSeconds;\n  }\n}","import \"../styles/schulte-table.css\";\nimport React, { Component } from \"react\";\nimport i18n from \"i18next\";\nimport Timer from \"../libs/utils/timer\";\n\nexport default class SchulteTable extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.questionBank = props.questionBank;\n    this.results = [];\n    this.timer = new Timer(this.updateTime);\n    this.answerTimer = new Timer();\n\n    this.state = {\n      characters: this.questionBank.nextQuestion(),\n      cursor: this.questionBank.nextCursor(),\n      clicked: {},\n      time: 0\n    };\n  }\n\n  componentDidMount() {\n    this.timer.start();\n    this.answerTimer.start();\n  }\n\n  componentWillUnmount() {\n    this.timer.stop();\n    this.answerTimer.stop();\n  }\n\n  updateTime = (seconds) => {\n    this.setState({ time: `${seconds.toFixed(1)}s` });\n  }\n\n  checkAnswer = (reply) => {\n    this.answerTimer.stop();\n    clearTimeout(this.effectId);\n    let sytle = \"incorrect\";\n    let cursor = this.state.cursor;\n    let correct = this.questionBank.checkAnswer(reply.value);\n    this.logAnswer(reply);\n\n    if (correct) {\n      sytle = \"correct\";\n      cursor = this.questionBank.nextCursor();\n      if (cursor === null) {\n        this.timer.stop();\n        this.setState({ time: null });\n        this.props.onFinish(this.results);\n        this.results = [];\n        return;\n      }\n    }\n\n    this.setState({\n      clicked: {\n        value: reply.value,\n        sytle: sytle\n      },\n      cursor: cursor\n    });\n    this.effectId = setTimeout(() => {\n      this.setState({ clicked: {} });\n    }, 500);\n    this.answerTimer.restart();\n  }\n\n  logAnswer = (reply) => {\n    let squareRoot = Math.sqrt(this.state.characters.length);\n    let result = {\n      question: {\n        description: `${squareRoot} x ${squareRoot} ${i18n.t(\"grid\")}`,\n        answer: {\n          text: `${i18n.t(\"click\")} ${this.state.cursor.text}`\n        }\n      },\n      reply: reply.text,\n      correct: this.questionBank.checkAnswer(reply.value),\n      duration: this.answerTimer.getDuration()\n    };\n    this.results.push(result);\n  }\n\n  render() {\n    const { clicked } = this.state;\n    return (\n      <div>\n        <div className=\"schulte-table\">\n          <div className=\"cursor\">{i18n.t(\"click\")}：<b>{this.state.cursor.text}</b></div>\n          <div className=\"time\">{this.state.time}</div>\n          <div className={`characters size-${this.state.characters.length}`}>\n            {this.state.characters.map((character) =>\n              character && <div key={character.value}\n                className={`cell ${(clicked.value === character.value ? clicked.sytle : \"\")}`}\n                onClick={() => this.checkAnswer(character)}><span>{character.text}</span></div>\n            )}\n          </div>\n        </div>\n      </div >\n    );\n  }\n}","import React, { Component } from \"react\";\nimport Timer from \"../libs/utils/timer\";\n\nexport default class Countdown extends Component {\n\n  constructor(props) {\n    super(props);\n    this.maximum = parseFloat(props.seconds || 10);\n    this.timer = new Timer(this.countdown);\n    this.state = { time: this.maximum };\n  }\n\n  reset = () => {\n    this.timer.restart();\n  }\n\n  pause = () => {\n    this.timer.stop();\n  }\n\n  resume = () => {\n    this.timer.start();\n  }\n\n  countdown = () => {\n    this.setState({ time: this.maximum - this.timer.getDuration() });\n    this.props.onChanged(this.state.time);\n    if (this.state.time > 0) return;\n    this.timeout();\n  }\n\n  timeout = () => {\n    this.timer.stop();\n    this.props.timeout();\n  }\n\n  getDuration = () => {\n    return Math.min(this.maximum, this.timer.getDuration());\n  }\n\n  getStatus = () => {\n    let rate = Math.round(this.state.time / this.maximum * 100);\n    if (rate < 20) return \"danger\";\n    else if (rate < 50) return \"warning\";\n    return \"\";\n  }\n\n  render() {\n    return (\n      <progress className={this.getStatus()} max={this.maximum} value={this.state.time.toFixed(1)}></progress>\n    );\n  }\n}","import \"../styles/schulte-table.css\";\nimport React, { Component } from \"react\";\n\nexport default class NumericKeypad extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      clicked: {}\n    };\n\n    this.numbers = [];\n    for (let i = 1; i <= 9; i++) {\n      this.numbers.push(i);\n    }\n    this.clear();\n  }\n\n  onClick = (num) => {\n    this.input += `${num}`;\n\n    if (this.props.onChanged)\n      this.props.onChanged(this.input);\n  }\n\n  onBack = () => {\n    if (this.input.length <= 1)\n      this.clear();\n    else\n      this.input = this.input.substring(0, this.input.length - 1);\n\n    if (this.props.onChanged)\n      this.props.onChanged(this.input);\n  }\n\n  onConfirm = () => {\n    if (this.input === \"\") return;\n    this.props.onConfirm(this.input);\n    this.clear();\n  }\n\n  clear = () => {\n    this.input = \"\";\n  }\n\n  render() {\n    const { clicked } = this.state;\n    return (\n      <div className=\"numeric-keypad\">\n        <div className=\"numbers\">\n          {this.numbers.map(num =>\n            <div key={num}\n              className={`cell ${(clicked.num === num ? clicked.sytle : \"\")}`}\n              onClick={() => this.onClick(num)}><span>{num}</span></div>\n          )}\n          <div className=\"cell\" onClick={() => this.onBack()}><span className=\"icon-backspace\"></span></div>\n          <div className={`cell ${(clicked.num === 0 ? clicked.sytle : \"\")}`}\n            onClick={() => this.onClick(0)}><span>0</span></div>\n          <div className=\"cell\" onClick={() => this.onConfirm()}><span className=\"icon-check\"></span></div>\n        </div>\n      </div>\n    )\n  }\n}","import React, { Component } from \"react\";\nimport i18n from \"i18next\";\nimport Countdown from \"./countdown.jsx\";\nimport NumericKeypad from \"./numeric-keypad.jsx\";\n\nexport default class QuizAttempt extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.questionBank = props.questionBank;\n    let answerMethod = this.questionBank.getSetting(\"anwser-method\");\n    let timeoutSeconds = this.questionBank.getSetting(\"timeoutSeconds\");\n\n    this.results = [];\n    this.state = {\n      description: \"\",\n      answer: {},\n      choices: [],\n      reply: \"\",\n      timeoutSeconds: timeoutSeconds,\n      answerMethod: answerMethod == null ? \"choice\" : answerMethod[0].value,\n      count: this.questionBank.getCount(),\n      cursor: this.questionBank.getCursor()\n    };\n    this.countdown = React.createRef();\n    this.numericKeypad = React.createRef();\n  }\n\n  componentDidMount() {\n    this.nextQuestion();\n  }\n\n  componentWillUnmount() {\n    this.countdown.current.pause();\n  }\n\n  nextQuestion = () => {\n    this.setState({ correct: null });\n\n    let question = this.questionBank.nextQuestion();\n    if (question === null) {\n      this.props.onFinish(this.results);\n      this.results = [];\n      return;\n    }\n\n    this.state.choices.splice(0, this.state.choices.length);\n    question.reply = \"\";\n    question.count = this.questionBank.getCount();\n    question.cursor = this.questionBank.getCursor();\n    this.setState(question);\n    this.countdown.current.reset();\n    if (this.numericKeypad.current)\n      this.numericKeypad.current.clear();\n  }\n\n  checkAnswer = (reply) => {\n    reply = reply == null ? \"\" : reply;\n    this.countdown.current.pause();\n    let correct = this.questionBank.checkAnswer(reply);\n    this.logAnswer(reply);\n\n    this.setState({\n      correct: correct,\n      reply: reply\n    });\n    if (correct) this.nextQuestion();\n  }\n\n  logAnswer = (reply) => {\n    let result = {\n      question: this.state,\n      reply: this.questionBank.convertText(reply, this.state.disableSecondhand),\n      correct: this.questionBank.checkAnswer(reply),\n      duration: this.countdown.current.getDuration()\n    };\n    this.results.push(result);\n  }\n\n  onCountdownChanged = (value) => {\n    this.setState({ countdown: value });\n  }\n\n  renderSwitch = () => {\n    switch (this.state.answerMethod) {\n      case \"filling\":\n        return <NumericKeypad ref={this.numericKeypad}\n          onChanged={value => this.setState({ reply: value })}\n          onConfirm={value => this.checkAnswer(parseInt(value))} />\n      default:\n        return <ul className=\"choices\">\n          {this.state.choices.map((choice, i) =>\n            <li key={i} onClick={() => this.checkAnswer(choice.value)} ><span>{choice.text}</span></li>\n          )}\n        </ul>\n    }\n  }\n\n  render() {\n    return (\n      <div className={`answer-method ${this.state.answerMethod}`}>\n        <span className=\"questionNumber\">{`${this.state.cursor}/${this.state.count}`}</span>\n        <div className={`question ${this.state.countdown < 3 && this.state.correct !== false && \"blink\"}`}>\n          {this.state.description} {this.state.answerMethod === \"filling\" && <span>{`= ${this.state.reply}`}</span>}\n        </div>\n        {this.state.correct === false\n          ? <div>\n            <p>{this.state.reply === \"\" ? i18n.t(\"timeout\") : i18n.t(\"wrong-answer\") } {i18n.t(\"answer\")}：{this.state.answer.text}</p>\n            <span className=\"btn large blue\" onClick={() => this.nextQuestion()}>{i18n.t(\"next\")}</span>\n          </div>\n          : this.renderSwitch()}\n        <Countdown ref={this.countdown}\n          seconds={this.state.timeoutSeconds}\n          timeout={() => this.checkAnswer(this.state.reply)}\n          onChanged={value => this.onCountdownChanged(value)} />\n      </div>\n    );\n  }\n}","import React, { Component } from \"react\";\nimport i18n from \"i18next\";\n\nexport default class QuizResult extends Component {\n  constructor(props) {\n    super(props);\n\n    let correct = 0;\n    let incorrect = 0;\n    let timeout = 0;\n    let duration = 0;\n    let results = this.props.results || [];\n    results.forEach(result => {\n      if (result.correct) correct++;\n      else if (result.reply) incorrect++;\n      else timeout++;\n      duration += result.duration;\n    });\n    this.state = {\n      results: results,\n      correct: correct,\n      incorrect: incorrect,\n      timeout: timeout,\n      avgDuration: results.length && duration / results.length,\n      duration: duration,\n      score: results.length && Math.floor(correct / results.length * 100),\n    };\n  }\n\n  render() {\n    return (\n      <div className=\"modal\">\n        <div className=\"modal-content\">\n          <span className=\"close\" onClick={() => this.props.onClose()}>x</span>\n          <table>\n            <tbody>\n              <tr className=\"correct\"><td>{i18n.t(\"number-of-correct\")}：</td><td>{this.state.correct}</td></tr>\n              <tr className={this.state.incorrect > 0 ? \"incorrect\" : \"\"}><td>{i18n.t(\"number-of-wrong\")}：</td><td>{this.state.incorrect}</td></tr>\n              {this.state.timeout > 0 && <tr className=\"incorrect\"><td>{i18n.t(\"number-of-timeout\")}：</td><td>{this.state.timeout}</td></tr>}\n              <tr><td>{i18n.t(\"avg-duration\")}：</td><td>{this.state.avgDuration.toFixed(1)} {i18n.t(\"seconds\")}</td></tr>\n              <tr><td>{i18n.t(\"total-duration\")}：</td><td>{this.state.duration.toFixed(1)} {i18n.t(\"seconds\")}</td></tr>\n            </tbody>\n          </table>\n          <hr />\n          {this.state.incorrect > 0 &&\n            <table>\n              <thead>\n                <tr>\n                  <th style={{ width: \"5%\" }}></th>\n                  <th>{i18n.t(\"question\")}</th>\n                  <th style={{ width: \"20%\" }}>{i18n.t(\"answer\")}</th>\n                  <th style={{ width: \"20%\" }}>{i18n.t(\"reply\")}</th>\n                  <th style={{ width: \"25%\" }}>{i18n.t(\"duration\")}</th>\n                </tr>\n              </thead>\n              <tbody>\n                {this.state.results.map((result, i) => result.correct ||\n                  <tr key={i} className={result.correct ? \"correct\" : \"incorrect\"}>\n                    <td><b /></td>\n                    <td>{result.question.description}</td>\n                    <td>{result.question.answer.text}</td>\n                    <td>{result.reply === \"\" ? \"--\" : result.reply}</td>\n                    <td>{result.duration.toFixed(1)}</td>\n                  </tr>\n                )}\n              </tbody>\n            </table>}\n          <div className=\"modal-footer\">\n            <span className=\"btn\" onClick={() => this.props.onClose()}>{i18n.t(\"close\")}</span>\n            {this.props.enableReview && this.state.incorrect >= 3 &&\n              <span className=\"btn blue\" onClick={() => this.props.onReview()}>{i18n.t(\"review\")}</span>}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}","import React, { Component } from \"react\";\nimport i18n from \"i18next\";\n\nexport default class QuizSetting extends Component {\n  constructor(props) {\n    super(props);\n    let questionBank = this.props.questionBank;\n    let title = questionBank.getTitle();\n    let options = questionBank.getOptions();\n\n    this.state = {\n      title: title,\n      options: options,\n      ready: true\n    };\n  }\n\n  onStart = () => {\n    if (this.state.ready > 0)\n      this.props.onStart(this.state.options.map(x => {\n        if (x.selections != null)\n          x.selections = x.selections.filter(s => s.selected);\n        return x;\n      }));\n  }\n\n  onSelected = (event, option) => {\n    option.selections.forEach(selection => {\n      if (selection.text === event.target.value) {\n        selection.selected = event.target.checked;\n      } else if (option.type === \"single-choice\") {\n        selection.selected = false;\n      }\n    });\n    option.selectedAll = option.selections.filter(x => x.selected !== true).length === 0;\n\n    this.updateMenuItem(option);\n  }\n\n  onSlide = (event, option) => {\n    option.value = event.target.value;\n    this.updateMenuItem(option);\n    this.setState(state => {\n      state.options.forEach(x => {\n        if (x.name === option.name) x = option;\n      });\n    });\n  }\n\n  toggleAll = (name) => {\n    let option = this.state.options.filter(x => x.name === name)[0];\n    let selections = option.selections;\n    option.selectedAll = !option.selectedAll;\n    selections.forEach(selection => {\n      selection.selected = option.selectedAll;\n    })\n\n    this.updateMenuItem(option);\n  }\n\n  updateMenuItem = (option) => {\n    let ready = true;\n    this.setState(state => {\n      state.options.forEach(x => {\n        if (x.name === option.name) x = option;\n        if (x.selections != null && x.selections.filter(s => s.selected).length === 0)\n          ready = false;\n      });\n\n      return {\n        options: state.options,\n        ready: ready\n      }\n    });\n  }\n\n  renderSwitch = (option) => {\n    switch (option.type) {\n      case \"single-choice\":\n      case \"multiple-choice\":\n        return <ul className=\"sections\">\n          {option.selections.map((selection, j) =>\n            <li key={j}>\n              <label>\n                <input type=\"checkbox\"\n                  value={selection.text}\n                  onChange={e => this.onSelected(e, option)}\n                  checked={selection.selected || false} />\n                <span>{selection.text}</span>\n              </label>\n            </li>\n          )}\n          {option.type === \"multiple-choice\" && <li>\n            <label>\n              <input type=\"checkbox\" onChange={() => this.toggleAll(option.name)} checked={option.selectedAll || false} />\n              <span>{i18n.t(\"select-all\")}</span>\n            </label>\n          </li>}\n        </ul>;\n      case \"range-slider\":\n        return <div className=\"sections\">\n          <input className=\"slider\" type=\"range\" min={option.min} max={option.max} step={option.step}\n            value={option.value} onChange={e => this.onSlide(e, option)} />\n            {option.value} {option.unit}\n        </div>;\n      default:\n        return <div></div>;\n    }\n  }\n\n\n  render() {\n    return (\n      <div>\n        <h2>{this.state.title}</h2>\n        {this.state.options.map((option, i) =>\n          <section key={i}>\n            <h3>{option.title}</h3>\n            {this.renderSwitch(option)}\n          </section>\n        )}\n        <nav>\n          <span className={`btn large ${this.state.ready ? \"green\" : \"disable\"}`} onClick={() => this.onStart()}>{i18n.t(\"start\")}</span>\n        </nav>\n      </div>\n    );\n  }\n}","import React, { Component } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport i18n from \"i18next\";\nimport { Translations } from \"../i18n.js\";\n\nexport default class SEO extends Component {\n\n  constructor(props) {\n    super(props);\n    this.lang = i18n.language;\n    this.title = props.title || i18n.t(\"app-name\");\n    this.description = props.description || i18n.t(\"app-description\");\n    this.keywords = props.keywords || i18n.t(\"app-keywords\");\n    document.title = this.title;\n\n    this.meta = [\n      {\n        name: \"description\",\n        content: this.description,\n      },\n      {\n        name: \"keywords\",\n        content: this.keywords,\n      },\n      {\n        itemprop: \"name\",\n        content: this.title,\n      },\n      {\n        itemprop: \"description\",\n        content: this.description,\n      },\n      {\n        property: \"og:title\",\n        content: this.title,\n      },\n      {\n        property: \"og:description\",\n        content: this.description,\n      },\n      {\n        property: \"og:type\",\n        content: \"website\",\n      },\n      {\n        property: \"og:url\",\n        content: window.location.href,\n      },\n      {\n        name: \"twitter:card\",\n        content: \"summary\",\n      },\n      {\n        name: \"twitter:title\",\n        content: this.title,\n      },\n      {\n        name: \"twitter:description\",\n        content: this.description,\n      },\n    ];\n\n    this.link = [];\n    for (let langCode in Translations) {\n      let href = window.location.href.replace(this.lang, langCode);\n      this.link.push({\n        rel: \"alternate\",\n        hreflang: langCode,\n        href: href\n      });\n    }\n  }\n\n  render() {\n    return (\n      <Helmet\n        htmlAttributes={{\n          lang: this.lang\n        }}\n        title={this.props.title}\n        meta={this.meta}\n        link={this.link}\n      />\n    );\n  }\n}","import \"../styles/quiz.css\";\nimport React, { Component }  from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport i18n from \"i18next\";\nimport SchulteTable from \"../components/schulte-table.jsx\";\nimport QuizAttempt from \"../components/quiz-attempt.jsx\";\nimport QuizResult from \"../components/quiz-result.jsx\";\nimport QuizSetting from \"../components/quiz-setting.jsx\";\nimport SEO from \"../components/seo.jsx\";\n\nclass QuizPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      results: []\n    };\n    this.quizAttempt = React.createRef();\n    this.handleUnload = this.handleUnload.bind(this);\n    this.questionBank = this.props.questionBank();\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"beforeunload\", this.handleUnload);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"beforeunload\", this.handleUnload);\n  }\n\n  handleUnload(e) {\n    var message = \"\";\n\n    (e || window.event).returnValue = message; // Gecko + IE\n    return message;\n  }\n\n  onStart = (options) => {\n    this.questionBank.setSettings(options);\n    this.questionBank.initQuestions();\n    this.setState({\n      componentName: this.questionBank.getSetting(\"component\"),\n      enableReview: this.questionBank.getSetting(\"enableReview\")\n    });\n  }\n\n  showResult = (results) => {\n    this.state.results.splice(0, this.state.results.length);\n    this.setState({\n      isShowResult: true,\n      results: results\n    });\n  }\n\n  onReview = () => {\n    let questions = [];\n    let incorrectQuestions = this.state.results\n      .filter(x => !x.correct)\n      .map(x => x.question);\n    for (let i = 0; i < 3; i++)\n      questions = questions.concat(incorrectQuestions);\n    this.questionBank.setQuestions(questions);\n\n    this.quizAttempt.current.nextQuestion();\n    this.setState({ isShowResult: false });\n  }\n\n  onClose = () => {\n    this.props.history.push(`/${i18n.language}/`);\n  }\n\n  renderSwitch = (componentName) => {\n    switch (componentName) {\n      case \"QuizAttempt\":\n        return <QuizAttempt ref={this.quizAttempt}\n          questionBank={this.questionBank}\n          onFinish={results => this.showResult(results)} />;\n      case \"SchulteTable\":\n        return <SchulteTable\n          questionBank={this.questionBank}\n          onFinish={results => this.showResult(results)} />;\n      default:\n        return <QuizSetting\n          questionBank={this.questionBank}\n          onStart={option => this.onStart(option)} />;\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <SEO title={`${this.questionBank.getTitle()} | ${i18n.t(\"app-name\")}`} />\n        <div className=\"header\">\n          {this.state.isShowResult || <span className=\"close\" onClick={() => this.onClose()}>x</span>}\n        </div>\n        {this.renderSwitch(this.state.componentName)}\n        {this.state.isShowResult &&\n          <QuizResult\n            enableReview={this.state.enableReview}\n            results={this.state.results}\n            onReview={() => this.onReview()}\n            onClose={() => this.onClose()} />}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(QuizPage);","export default class RandomUtil {\n\n    static pickRandomItems = (arr, count) => {\n        let items = []\n        for (let i = 0; i < count; i++) {\n            let index = this.getRandomInt(arr.length);\n            let item = arr.splice(index, 1)[0];\n            items.push(item);\n        }\n        return items;\n    }\n\n    static getRandomInt = (max) => {\n        return this.getRandomIntRange(0, max);\n    }\n\n    static getRandomIntRange = (min, max) => {\n        return Math.floor(Math.random() * (max - min) + min);\n    }\n}","import i18n from \"i18next\";\nimport RandomUtil from \"../utils/random.js\";\n\nexport default class QuestionBankBase {\n\n  constructor() {\n    this.settings = {\n      component: \"QuizAttempt\",\n      enableReview: true,\n      choiceCount: 6,\n      options: [{\n          title: i18n.t(\"sections\"),\n          name: \"sections\",\n          type: \"multiple-choice\"\n        },\n        {\n          title: i18n.t(\"answering-method\"),\n          name: \"anwser-method\",\n          type: \"single-choice\",\n          selections: [{\n              text: i18n.t(\"choice\"),\n              value: \"choice\",\n              selected: true\n            },\n            {\n              text: i18n.t(\"filling\"),\n              value: \"filling\"\n            }\n          ]\n        },\n        {\n          title: i18n.t(\"time-limit\"),\n          name: \"timeoutSeconds\",\n          type: \"range-slider\",\n          value: 10,\n          unit: i18n.t(\"seconds\"),\n          min: 3,\n          max: 60,\n          step: 1\n        },\n        {\n          title: i18n.t(\"number-of-questions\"),\n          name: \"questionCount\",\n          type: \"range-slider\",\n          value: 20,\n          unit: i18n.t(\"questions\"),\n          min: 10,\n          max: 100,\n          step: 5\n        }\n      ]\n    };\n  }\n\n  getTitle = () => this.getSetting(\"title\");\n\n  getCount = () => this.count;\n\n  getCursor = () => this.cursor;\n\n  generateChoices = (question) => {\n    let answer = question.answer.value;\n    let answerRange = question.answerRange || 20;\n    let seeds = [];\n    for (let i = Math.max(2, answer - answerRange); i < answer + answerRange; i++) {\n      if (i !== answer) seeds.push({\n        text: this.convertText(i),\n        value: i\n      });\n    }\n\n    let randomCount = this.getSetting(\"choiceCount\") - 1;\n    let choices = RandomUtil.pickRandomItems(seeds, randomCount);\n    choices.splice(RandomUtil.getRandomInt(randomCount), 0, {\n      text: this.convertText(answer),\n      value: answer\n    });\n    return choices;\n  }\n\n  setQuestions = (questions) => {\n    this.questions = questions || [];\n    this.count = this.questions.length;\n    this.cursor = 0;\n  }\n\n  nextQuestion = () => {\n    if (this.questions.length === 0) return null;\n    this.cursor++;\n    let index = RandomUtil.getRandomInt(this.questions.length);\n    let question = this.questions.splice(index, 1)[0];\n    question.choices = this.generateChoices(question);\n    return this.currentQuestion = question;\n  }\n\n  checkAnswer = (reply) => {\n    return reply != null && reply.toString() === this.currentQuestion.answer.value.toString();\n  }\n\n  convertText = (value) => {\n    return value.toString();\n  }\n\n  getOptions = () => {\n    let sections = this.getSections();\n    sections[0].selected = true;\n\n    let options = this.getSetting(\"options\");\n\n    return options.map(x => {\n      if (x.name === \"sections\") x.selections = sections;\n      else if (x.name === \"timeoutSeconds\") x.value = 10;\n      else if (x.name === \"questionCount\") x.value = 20;\n      return x;\n    });\n  }\n\n  setSettings = (options) => {\n    options.forEach(option => {\n      this.settings[option.name] = option.selections || option.value;\n    });\n  }\n\n  getSetting = (name) => {\n    return this.settings[name];\n  }\n}","import i18n from \"i18next\";\nimport RandomUtil from \"../utils/random.js\";\nimport QuestionBankBase from \"./base.js\";\n\nexport default class SchulteTableQuestionBank extends QuestionBankBase {\n\n  constructor() {\n    super();\n    this.settings[\"route\"] = \"schulte-table\";\n    this.settings[\"title\"] = i18n.t(this.settings[\"route\"]);\n    this.settings[\"component\"] = \"SchulteTable\";\n    this.settings[\"enableReview\"] = false;\n  }\n\n  getOptions = () => {\n    let sections = this.getSections();\n    sections[0].selected = true;\n\n    return [{\n        title: i18n.t(\"sections\"),\n        name: \"sections\",\n        type: \"single-choice\",\n        selections: sections\n      },\n      {\n        title: i18n.t(\"character\"),\n        name: \"character\",\n        type: \"single-choice\",\n        selections: [{\n            text: \"123\",\n            value: \"numeral\",\n            selected: true\n          },\n          {\n            text: \"ㄅㄆㄇ\",\n            value: \"ㄅㄆㄇㄈㄉㄊㄋㄌㄍㄎㄏㄐㄑㄒㄓㄔㄕㄖㄗㄘㄙㄧㄨㄩㄚㄛㄜㄝㄞㄟㄠㄡㄢㄣㄤㄥㄦ\"\n          },\n          {\n            text: \"ABC\",\n            value: \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"\n          },\n          {\n            text: \"abc\",\n            value: \"abcdefghijklmnopqrstuvwxyz\"\n          },\n          {\n            text: \"あいう\",\n            value: \"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわをん\"\n          },\n          {\n            text: \"アイウ\",\n            value: \"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲン\"\n          }\n        ]\n      }\n    ];\n  }\n\n  getSections = () => {\n    let sections = [];\n    for (let i = 3; i <= 9; i++) {\n      sections.push({\n        text: `${i} x ${i} ${i18n.t(\"grid\")}`,\n        value: i\n      });\n    }\n    return sections;\n  }\n\n  initQuestions = () => {\n    let section = this.getSetting(\"sections\")[0].value;\n    let characters = this.characters = this.getCharacters(this.getSetting(\"character\")[0].value);\n    let squareRoot = Math.min(section, Math.ceil(Math.sqrt(characters.length)));\n    let count = Math.pow(squareRoot, 2);\n\n    let questions = [];\n    for (let i = 1; i <= count; i++) {\n      let char = characters[i - 1];\n      questions.push(char == null ? null : {\n        text: char,\n        value: i\n      });\n    }\n\n    this.setQuestions(RandomUtil.pickRandomItems(questions, count));\n  }\n\n  nextQuestion = () => {\n    this.cursor = 0;\n    return this.questions;\n  }\n\n  checkAnswer = (reply) => {\n    return reply != null && reply === this.cursor;\n  }\n\n  nextCursor = () => {\n    if (this.cursor >= this.questions.length) return null;\n    let current = this.cursor++;\n    let character = this.characters[current];\n    return (character == null) ? null : {\n      text: character,\n      value: current\n    };\n  }\n\n  getCharacters = (str) => {\n    if (str === \"numeral\") return Array.from({\n      length: Math.pow(9, 2)\n    }, (x, i) => i + 1);\n    return str.split(\"\");\n  }\n}","import i18n from \"i18next\";\nimport RandomUtil from \"../utils/random.js\";\nimport QuestionBankBase from \"./base.js\";\n\nexport default class AdditionQuestionBank extends QuestionBankBase {\n\n  constructor() {\n    super();\n    this.settings[\"route\"] = \"addition\";\n    this.settings[\"title\"] = i18n.t(this.settings[\"route\"]);\n  }\n\n  getSections = () => {\n    return [{\n        text: i18n.t(\"add-within-10\"),\n        minimum: 0,\n        minSummation: 1,\n        maxSummation: 10,\n        answerRange: 10, \n        maxCount: 45\n      },\n      {\n        text: i18n.t(\"add-within-20\"),\n        minimum: 0,\n        minSummation: 10,\n        maxSummation: 20,\n        answerRange: 10\n      },\n      {\n        text: i18n.t(\"two-digit-addition\"),\n        minimum: 10,\n        minSummation: 20,\n        maxSummation: 99,\n        answerRange: 20\n      },\n      {\n        text: i18n.t(\"three-digit-addition\"),\n        minimum: 100,\n        minSummation: 200,\n        maxSummation: 999,\n        answerRange: 50\n      },\n      {\n        text: i18n.t(\"four-digit-addition\"),\n        minimum: 1000,\n        minSummation: 2000,\n        maxSummation: 9999,\n        answerRange: 50\n      }\n    ];\n  }\n\n  initQuestions = () => {\n    let sections = this.getSetting(\"sections\") || this.getSections();\n    let questionCount = this.getSetting(\"questionCount\");\n    let questionCountOfSection = Math.ceil(questionCount / sections.length);\n    let questions = [];\n    sections.forEach(section => {\n      let hashMap = new Map();\n      while (hashMap.size < Math.min(questionCountOfSection, section.maxCount || questionCount)) {\n        let summation = RandomUtil.getRandomIntRange(section.minSummation, section.maxSummation);\n        let x = RandomUtil.getRandomIntRange(section.minimum, summation - section.minimum);\n        let y = summation - x;\n        let key = `${x} + ${y}`;\n        hashMap.set(key, {\n          description: key,\n          answer: {\n            text: this.convertText(summation),\n            value: summation\n          },\n          answerRange: section.answerRange\n        });\n      }\n      hashMap.forEach((value) => {\n        questions.push(value);\n      });\n    });\n    questions = RandomUtil.pickRandomItems(questions, Math.min(questionCount, questions.length));\n    for (let i = 0; questions.length < questionCount; i++) {\n      if (i >= questions.length) i = 0;\n      questions.push(questions[i]);\n    }\n    this.setQuestions(questions);\n  }\n}","import i18n from \"i18next\";\nimport RandomUtil from \"../utils/random.js\";\nimport QuestionBankBase from \"./base.js\";\n\nexport default class SubtractionQuestionBank extends QuestionBankBase {\n\n  constructor() {\n    super();\n    this.settings[\"route\"] = \"subtraction\";\n    this.settings[\"title\"] = i18n.t(this.settings[\"route\"]);\n  }\n\n  getSections = () => {\n    return [{\n        text: i18n.t(\"subtract-within-10\"),\n        minimum: 0,\n        minSummation: 1,\n        maxSummation: 10,\n        answerRange: 10,\n        maxCount: 45\n      },\n      {\n        text: i18n.t(\"subtract-within-20\"),\n        minimum: 0,\n        minSummation: 10,\n        maxSummation: 20,\n        answerRange: 10\n      },\n      {\n        text: i18n.t(\"two-digit-subtraction\"),\n        minimum: 10,\n        minSummation: 20,\n        maxSummation: 99,\n        answerRange: 20\n      },\n      {\n        text: i18n.t(\"three-digit-subtraction\"),\n        minimum: 100,\n        minSummation: 200,\n        maxSummation: 999,\n        answerRange: 50\n      },\n      {\n        text: i18n.t(\"four-digit-subtraction\"),\n        minimum: 1000,\n        minSummation: 2000,\n        maxSummation: 9909,\n        answerRange: 50\n      }\n    ];\n  }\n\n  initQuestions = () => {\n    let sections = this.getSetting(\"sections\") || this.getSections();\n    let questionCount = this.getSetting(\"questionCount\");\n    let questionCountOfSection = Math.ceil(questionCount / sections.length);\n    let questions = [];\n    sections.forEach(section => {\n      let hashMap = new Map();\n      while (hashMap.size < Math.min(questionCountOfSection, section.maxCount || questionCount)) {\n        let x = RandomUtil.getRandomIntRange(section.minSummation, section.maxSummation);\n        let y = RandomUtil.getRandomIntRange(section.minimum, x);\n        let summation = x - y;\n        let key = `${x} - ${y}`;\n        hashMap.set(key, {\n          description: key,\n          answer: {\n            text: this.convertText(summation),\n            value: summation\n          },\n          answerRange: section.answerRange\n        });\n      }\n      hashMap.forEach((value) => {\n        questions.push(value);\n      });\n    });\n    questions = RandomUtil.pickRandomItems(questions, Math.min(questionCount, questions.length));\n    for (let i = 0; questions.length < questionCount; i++) {\n      if (i >= questions.length) i = 0;\n      questions.push(questions[i]);\n    }\n    this.setQuestions(questions);\n  }\n}","import i18n from \"i18next\";\nimport QuestionBankBase from \"./base.js\";\n\nexport default class MultiplicationQuestionBank extends QuestionBankBase {\n\n  constructor(level) {\n    super();\n    switch (level || 1) {\n      case 2:\n        this.settings[\"multiplier\"] = 11;\n        this.settings[\"multiplicand\"] = 19;\n        this.settings[\"route\"] = \"multiplication-19x19\";\n        break;\n      default:\n        this.settings[\"multiplier\"] = 2;\n        this.settings[\"multiplicand\"] = 9;\n        this.settings[\"route\"] = \"multiplication-9x9\";\n        break;\n    }\n    this.settings[\"title\"] = i18n.t(this.settings[\"route\"]);\n    this.settings[\"options\"] = this.settings[\"options\"].filter(x => x.name !== \"questionCount\");\n  }\n\n  getSections = () => {\n    let sections = [];\n    let multiplier = this.getSetting(\"multiplier\");\n    let multiplicand = this.getSetting(\"multiplicand\");\n    for (let i = multiplier; i <= multiplicand; i++) {\n      sections.push({\n        text: `${i} x ${multiplicand}`,\n        value: i\n      });\n    }\n    return sections;\n  }\n\n  initQuestions = () => {\n    let sections = this.getSetting(\"sections\");\n    let multiplicand = this.getSetting(\"multiplicand\");\n    let questions = [];\n    (sections || this.getSections())\n    .forEach(section => {\n      for (let i = 2; i <= multiplicand; i++) {\n        questions.push({\n          description: `${section.value} x ${i}`,\n          answer: {\n            text: this.convertText(section.value * i),\n            value: section.value * i\n          },\n        });\n      }\n    });\n    this.setQuestions(questions);\n  }\n}","import React, { Component } from \"react\";\n\nexport default class Clock extends Component {\n  constructor(props) {\n    super(props);\n    this.canvas = React.createRef();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.disableSecondhand = nextProps.disableSecondhand;\n    this.drawClock(nextProps.hhmmss);\n  }\n\n  componentDidMount() {\n    this.disableSecondhand = this.props.disableSecondhand;\n    this.drawClock(this.props.hhmmss);\n  }\n\n  drawClock = (hhmmss) => {\n    let canvas = this.canvas.current;\n    canvas.height = canvas.width;\n    let context = canvas.getContext(\"2d\");\n    let radius = canvas.height / 2;\n    context.translate(radius, radius);\n    radius = radius * 0.90;\n    this.context = context;\n    this.radius = radius;\n    let arr = (hhmmss || \"00:00:00\").split(\":\");\n    let hour = arr[0] || \"0\";\n    let minute = arr[1] || \"0\";\n    let second = arr[2] || \"0\";\n\n    this.drawFace();\n    this.drawNumbers();\n    this.drawTime(hour, minute, second);\n  }\n\n  drawFace = () => {\n    let context = this.context;\n    let radius = this.radius;\n    context.beginPath();\n\n    // Base Plate\n    context.arc(0, 0, radius, 0, 2 * Math.PI);\n    context.fillStyle = \"white\";\n    context.fill();\n\n    // Outside frame\n    // let grad = context.createRadialGradient(0, 0, radius * 0.95, 0, 0, radius * 1.05);\n    // grad.addColorStop(0, \"red\");\n    // grad.addColorStop(0.5, \"yellow\");\n    // grad.addColorStop(1, \"green\");\n    // context.strokeStyle = grad;\n    // context.lineWidth = radius * 0.1;\n    // context.stroke();\n  }\n\n  drawNumbers = () => {\n    let context = this.context;\n    let radius = this.radius;\n    context.beginPath();\n    context.fillStyle = \"black\";\n    context.font = `bold ${radius * 0.2}px arial`;\n    context.textBaseline = \"middle\";\n    context.textAlign = \"center\";\n    for (let num = 1; num < 13; num++) {\n      let ang = num * Math.PI / 6;\n      context.rotate(ang);\n      context.translate(0, -radius * 0.85);\n      context.rotate(-ang);\n      context.fillText(num.toString(), 0, 0);\n      context.rotate(ang);\n      context.translate(0, radius * 0.85);\n      context.rotate(-ang);\n    }\n  }\n\n  drawTime = (hour, minute, second) => {\n    let radius = this.radius;\n\n    // Hour\n    hour = hour % 12;\n    hour = (hour * Math.PI / 6) +\n      (minute * Math.PI / (6 * 60)) +\n      (second * Math.PI / (360 * 60));\n    this.drawHand(hour, radius * 0.4, radius * 0.07);\n\n    // Minute\n    minute = (minute * Math.PI / 30) + (second * Math.PI / (30 * 60));\n    this.drawHand(minute, radius * 0.7, radius * 0.05);\n\n    // Second\n    if (this.disableSecondhand === \"true\") return;\n    second = (second * Math.PI / 30);\n    this.drawHand(second, radius * 0.6, radius * 0.02, \"red\");\n  }\n\n  drawHand = (pos, length, width, style) => {\n    let context = this.context;\n    style = style || \"black\"\n\n    // Center of Clock\n    context.beginPath();\n    context.arc(0, 0, length * width * 0.015, 0, 2 * Math.PI);\n    context.fillStyle = style;\n    context.fill();\n\n    // Hand of Clock\n    context.beginPath();\n    context.strokeStyle = style;\n    context.lineWidth = width;\n    context.lineCap = \"round\";\n    context.moveTo(0, 0);\n    context.rotate(pos);\n    context.lineTo(0, -length);\n    context.stroke();\n    context.rotate(-pos);\n  }\n\n  render() {\n    return (\n      <canvas className=\"clock\" ref={this.canvas} width={this.props.width || 200} />\n    );\n  }\n}","import i18n from \"i18next\";\nimport RandomUtil from \"../utils/random.js\";\nimport QuestionBankBase from \"./base.js\";\nimport Clock from \"../../components/clock.jsx\";\n\nexport default class ClockQuestionBank extends QuestionBankBase {\n  secondsInDay = 24 * 60 * 60;\n\n  constructor() {\n    super();\n    this.settings[\"route\"] = \"clock\";\n    this.settings[\"title\"] = i18n.t(this.settings[\"route\"]);\n  }\n\n  getOptions = () => {\n    let sections = this.getSections();\n    sections[0].selected = true;\n\n    return [{\n        title: i18n.t(\"sections\"),\n        name: \"sections\",\n        type: \"single-choice\",\n        selections: sections\n      },\n      {\n        title: i18n.t(\"time-limit\"),\n        name: \"timeoutSeconds\",\n        type: \"range-slider\",\n        value: 10,\n        unit: i18n.t(\"seconds\"),\n        min: 3,\n        max: 60,\n        step: 1\n      },\n      {\n        title: i18n.t(\"number-of-questions\"),\n        name: \"questionCount\",\n        type: \"range-slider\",\n        value: 20,\n        unit: i18n.t(\"questions\"),\n        min: 10,\n        max: 100,\n        step: 5\n      }\n    ];\n  }\n\n  getSections = () => {\n    return [{\n        text: i18n.t(\"o-clock\"),\n        intervalSeconds: 60 * 60,\n        answerRange: 10,\n        maxCount: 12\n      },\n      {\n        text: i18n.t(\"half-an-hour\"),\n        intervalSeconds: 30 * 60,\n        answerRange: 10,\n        maxCount: 24\n      },\n      {\n        text: i18n.t(\"five-minutes\"),\n        intervalSeconds: 5 * 60,\n        answerRange: 10\n      },\n      {\n        text: i18n.t(\"one-minute\"),\n        intervalSeconds: 1 * 60,\n        answerRange: 10\n      },\n      {\n        text: i18n.t(\"one-second\"),\n        intervalSeconds: 5,\n        answerRange: 120\n      }\n    ];\n  }\n\n  initQuestions = () => {\n    let sections = this.getSetting(\"sections\") || this.getSections();\n    let questionCount = this.getSetting(\"questionCount\");\n    let questionCountOfSection = Math.ceil(questionCount / sections.length);\n    let questions = [];\n    sections.forEach(section => {\n      let hashMap = new Map();\n      while (hashMap.size < Math.min(questionCountOfSection, section.maxCount || questionCount)) {\n        let disableSecondhand = section.intervalSeconds !== 5;\n        let random = RandomUtil.getRandomInt(this.secondsInDay / 2);\n        random = random - random % section.intervalSeconds;\n        let key = this.convertText(random, disableSecondhand);\n        hashMap.set(key, {\n          description: <Clock hhmmss={key} disableSecondhand={disableSecondhand.toString()} />,\n          answer: {\n            text: key,\n            value: random\n          },\n          answerRange: section.answerRange,\n          intervalSeconds: section.intervalSeconds,\n          disableSecondhand: disableSecondhand\n        });\n      }\n      hashMap.forEach((value) => {\n        questions.push(value);\n      });\n    });\n    questions = RandomUtil.pickRandomItems(questions, Math.min(questionCount, questions.length));\n    for (let i = 0; questions.length < questionCount; i++) {\n      if (i >= questions.length) i = 0;\n      questions.push(questions[i]);\n    }\n    this.setQuestions(questions);\n  }\n\n  generateChoices = (question) => {\n    let answer = question.answer.value;\n    let answerRange = question.answerRange * question.intervalSeconds;\n    let intervalSeconds = question.intervalSeconds;\n    let seeds = [];\n    for (let i = Math.max(0, answer - answerRange); i < Math.min(answer + answerRange, this.secondsInDay / 2); i += intervalSeconds) {\n      if (i !== answer) seeds.push({\n        text: this.convertText(i, question.disableSecondhand),\n        value: i\n      });\n    }\n\n    let randomCount = this.getSetting(\"choiceCount\") - 1;\n    let choices = RandomUtil.pickRandomItems(seeds, randomCount);\n    choices.splice(RandomUtil.getRandomInt(randomCount), 0, {\n      text: this.convertText(answer, question.disableSecondhand),\n      value: answer\n    });\n    return choices;\n  }\n\n  convertText = (value, disableSeconds) => {\n    let hour = Math.floor(value / (60 * 60));\n    let minute = Math.floor(value % (60 * 60) / 60);\n    let second = value % 60;\n\n    hour = hour === 0 ? 12 : hour;\n    let result = `${hour.toString().padStart(2, \"0\")}:${minute.toString().padStart(2, \"0\")}`;\n    if (!disableSeconds) result += `:${second.toString().padStart(2, \"0\")}`;\n\n    return result;\n  }\n}","import QuizPage from \"./pages/quiz-page.jsx\";\n\nimport SchulteTableQuestionBank from \"./libs/question-bank/schulte-table.js\";\nimport AdditionQuestionBank from \"./libs/question-bank/addition.js\";\nimport SubtractionQuestionBank from \"./libs/question-bank/subtraction.js\";\nimport MultiplicationQuestionBank from \"./libs/question-bank/multiplication.js\";\nimport ClockQuestionBank from \"./libs/question-bank/clock.js\";\n\nexport const AppRoutes = [{\n    path: \"schulte-table\",\n    component: <QuizPage questionBank={() => new SchulteTableQuestionBank()}/>\n},\n{\n    path: \"addition\",\n    component: <QuizPage questionBank={() => new AdditionQuestionBank()}/>\n},\n{\n    path: \"subtraction\",\n    component: <QuizPage questionBank={() => new SubtractionQuestionBank()}/>\n},\n{\n    path: \"multiplication-9x9\",\n    component: <QuizPage questionBank={() => new MultiplicationQuestionBank()}/>\n},\n{\n    path: \"multiplication-19x19\",\n    component: <QuizPage questionBank={() => new MultiplicationQuestionBank(2)}/>\n},\n{\n    path: \"clock\",\n    component: <QuizPage questionBank={() => new ClockQuestionBank()}/>\n}];","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport i18n from \"i18next\";\nimport { AppRoutes } from \"../app-routes.js\";\nimport { Translations } from \"../i18n.js\";\nimport SEO from \"../components/seo.jsx\";\n\nexport default class MenuPage extends Component {\n\n  constructor(props) {\n    super(props);\n    this.title = i18n.t(\"app-name\");\n    this.translations = [];\n    for (let langCode in Translations) {\n      this.translations.push({\n        path: langCode,\n        name: Translations[langCode].name\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <SEO />\n        <div className=\"header\">\n          <div className=\"dropdown\">\n            <button className=\"dropbtn\">{i18n.t(\"language\")}</button>\n            <div className=\"dropdown-content\">\n              {this.translations.map((translation, i) =>\n                <a key={i} hrefLang={translation.path} href={`${window.location.origin}/${translation.path}/`}>{translation.name}</a>\n              )}\n            </div>\n          </div>\n        </div>\n        <nav className=\"menu\">\n          <h1>{this.title}</h1>\n          <ul>\n            {AppRoutes.map((route, i) =>\n              <li key={i}>\n                <Link className=\"btn green\" to={`/${i18n.language}/${route.path}`}>{i18n.t(route.path)}</Link>\n              </li>)}\n          </ul>\n        </nav>\n      </div>\n    );\n  }\n}","import React, { Component } from \"react\";\nimport {\n  BrowserRouter,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport i18n from \"i18next\";\nimport { withNamespaces } from \"react-i18next\";\nimport { AppRoutes } from \"./app-routes.js\";\nimport { Translations } from \"./i18n.js\";\nimport MenuPage from \"./pages/menu-page.jsx\";\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    let langCode = window.location.pathname.split(\"/\")[1];\n    if (!Translations[langCode]) {\n      langCode = i18n.language;\n    }\n    if (langCode !== i18n.language) {\n      i18n.changeLanguage(langCode);\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n        <BrowserRouter>\n          <Switch>\n            {AppRoutes.map((route, i) =>\n              <Route key={i} path={`/:lang/${route.path}`} component={() => route.component} />\n            )}\n            <Route exact component={MenuPage} />\n          </Switch>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default withNamespaces()(App);","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/main.css\";\nimport \"./i18n\";\nimport App from \"./app.jsx\";\n\nReactDOM.render(\n  <App />,\n  document.getElementById(\"root\")\n);\n\n"],"sourceRoot":""}