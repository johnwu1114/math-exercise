(this["webpackJsonpmath-exercise"]=this["webpackJsonpmath-exercise"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var s=n(0),i=n(4),c=n.n(i),r=n(8),a=n.n(r),o=(n(14),n(1)),u=n(5),l=n(3),h=n(2),d=(n(15),n(7),function t(e){var n=this;Object(o.a)(this,t),this.start=function(){n.intervalId=setInterval((function(){n.durationSeconds+=n.intervalSeconds,n.callback&&n.callback(n.durationSeconds)}),1e3*n.intervalSeconds)},this.stop=function(){n.intervalId&&clearInterval(n.intervalId)},this.restart=function(){n.stop(),n.durationSeconds=0,n.start()},this.getDuration=function(){return n.durationSeconds},this.intervalSeconds=.1,this.durationSeconds=0,this.callback=e}),m=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).updateTime=function(t){s.setState({time:"".concat(t.toFixed(1),"s")})},s.checkAnswer=function(t){s.answerTimer.stop(),clearTimeout(s.effectId);var e="incorrect",n=s.state.cursor,i=s.questionBank.checkAnswer(t.value);if(s.logAnswer(t),i&&(e="correct",null===(n=s.questionBank.nextCursor())))return s.timer.stop(),s.setState({time:null}),s.props.onFinish(s.results),void(s.results=[]);s.setState({clicked:{value:t.value,sytle:e},cursor:n}),s.effectId=setTimeout((function(){s.setState({clicked:{}})}),500),s.answerTimer.restart()},s.logAnswer=function(t){var e=Math.sqrt(s.state.characters.length),n={question:{description:"".concat(e," x ").concat(e," \u683c"),answer:{text:"\u9806\u5e8f ".concat(s.state.cursor.text)}},reply:t.text,correct:s.questionBank.checkAnswer(t.value),duration:s.answerTimer.getDuration()};s.results.push(n)},s.questionBank=t.questionBank,s.results=[],s.timer=new d(s.updateTime),s.answerTimer=new d,s.state={characters:s.questionBank.nextQuestion(),cursor:s.questionBank.nextCursor(),clicked:{},time:0},s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.timer.start(),this.answerTimer.start()}},{key:"componentWillUnmount",value:function(){this.timer.stop(),this.answerTimer.stop()}},{key:"render",value:function(){var t=this,e=this.state.clicked;return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"schulte-table",children:[Object(s.jsxs)("div",{className:"cursor",children:["\u6309\u4e0b\uff1a",Object(s.jsx)("b",{children:this.state.cursor.text})]}),Object(s.jsx)("div",{className:"time",children:this.state.time}),Object(s.jsx)("div",{className:"characters size-".concat(this.state.characters.length),children:this.state.characters.map((function(n){return n&&Object(s.jsx)("div",{className:"cell ".concat(e.value===n.value?e.sytle:""),onClick:function(){return t.checkAnswer(n)},children:Object(s.jsx)("span",{children:n.text})},n.value)}))})]})})}}]),n}(i.Component),j=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).reset=function(){s.timer.restart()},s.pause=function(){s.timer.stop()},s.resume=function(){s.timer.start()},s.countdown=function(){s.setState({time:s.maximum-s.timer.getDuration()}),s.props.onChanged(s.state.time),s.state.time>0||s.timeout()},s.timeout=function(){s.timer.stop(),s.props.timeout()},s.getDuration=function(){return Math.min(s.maximum,s.timer.getDuration())},s.getStatus=function(){var t=Math.round(s.state.time/s.maximum*100);return t<20?"danger":t<50?"warning":""},s.maximum=parseFloat(t.seconds||10),s.timer=new d(s.countdown),s.state={time:s.maximum},s}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsx)("progress",{className:this.getStatus(),max:this.maximum,value:this.state.time.toFixed(1)})}}]),n}(i.Component),f=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var s;Object(o.a)(this,n),(s=e.call(this,t)).onClick=function(t){s.input+="".concat(t),s.props.onChanged&&s.props.onChanged(s.input)},s.onBack=function(){s.input.length<=1?s.clear():s.input=s.input.substring(0,s.input.length-1),s.props.onChanged&&s.props.onChanged(s.input)},s.onConfirm=function(){""!==s.input&&(s.props.onConfirm(s.input),s.clear())},s.clear=function(){s.input=""},s.state={clicked:{}},s.numbers=[];for(var i=1;i<=9;i++)s.numbers.push(i);return s.clear(),s}return Object(u.a)(n,[{key:"render",value:function(){var t=this,e=this.state.clicked;return Object(s.jsx)("div",{className:"numeric-keypad",children:Object(s.jsxs)("div",{className:"numbers",children:[this.numbers.map((function(n){return Object(s.jsx)("div",{className:"cell ".concat(e.num===n?e.sytle:""),onClick:function(){return t.onClick(n)},children:Object(s.jsx)("span",{children:n})},n)})),Object(s.jsx)("div",{className:"cell",onClick:function(){return t.onBack()},children:Object(s.jsx)("span",{className:"icon-backspace"})}),Object(s.jsx)("div",{className:"cell ".concat(0===e.num?e.sytle:""),onClick:function(){return t.onClick(0)},children:Object(s.jsx)("span",{children:"0"})}),Object(s.jsx)("div",{className:"cell",onClick:function(){return t.onConfirm()},children:Object(s.jsx)("span",{className:"icon-check"})})]})})}}]),n}(i.Component),p=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).nextQuestion=function(){i.setState({correct:null});var t=i.questionBank.nextQuestion();if(null===t)return i.props.onFinish(i.results),void(i.results=[]);i.state.choices.splice(0,i.state.choices.length),t.reply="",i.setState(t),i.countdown.current.reset(),i.numericKeypad.current&&i.numericKeypad.current.clear()},i.checkAnswer=function(t){t=t||"",i.countdown.current.pause();var e=i.questionBank.checkAnswer(t);i.logAnswer(t),i.setState({correct:e,reply:t}),e&&i.nextQuestion()},i.logAnswer=function(t){var e={question:i.state,reply:i.questionBank.convertText(t,i.state.disableSecondhand),correct:i.questionBank.checkAnswer(t),duration:i.countdown.current.getDuration()};i.results.push(e)},i.onCountdownChanged=function(t){i.setState({countdown:t})},i.renderSwitch=function(){switch(i.state.answerMethod){case"filling":return Object(s.jsx)(f,{ref:i.numericKeypad,onChanged:function(t){return i.setState({reply:t})},onConfirm:function(t){return i.checkAnswer(parseInt(t))}});default:return Object(s.jsx)("ul",{className:"choices",children:i.state.choices.map((function(t,e){return Object(s.jsx)("li",{onClick:function(){return i.checkAnswer(t.value)},children:Object(s.jsx)("span",{children:t.text})},e)}))})}},i.questionBank=t.questionBank;var r=i.questionBank.getSetting("anwser-method"),a=i.questionBank.getSetting("timeoutSeconds");return i.results=[],i.state={description:"",answer:{},choices:[],reply:"",timeoutSeconds:a,answerMethod:null==r?"choice":r[0].value},i.countdown=c.a.createRef(),i.numericKeypad=c.a.createRef(),i}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.nextQuestion()}},{key:"componentWillUnmount",value:function(){this.countdown.current.pause()}},{key:"render",value:function(){var t=this;return Object(s.jsxs)("div",{className:"answer-method ".concat(this.state.answerMethod),children:[Object(s.jsxs)("div",{className:"question ".concat(this.state.countdown<3&&!1!==this.state.correct&&"blink"),children:[this.state.description," ","filling"===this.state.answerMethod&&Object(s.jsx)("span",{children:"= ".concat(this.state.reply)})]}),!1===this.state.correct?Object(s.jsxs)("div",{children:[Object(s.jsxs)("p",{children:[""===this.state.reply?"\u6642\u9593\u5230\uff01":"\u7b54\u932f\u4e86\uff01"," \u7b54\u6848\u662f ",this.state.answer.text]}),Object(s.jsx)("span",{className:"btn large blue",onClick:function(){return t.nextQuestion()},children:"\u4e0b\u4e00\u984c"})]}):this.renderSwitch(),Object(s.jsx)(j,{ref:this.countdown,seconds:this.state.timeoutSeconds,timeout:function(){return t.checkAnswer(t.state.reply)},onChanged:function(e){return t.onCountdownChanged(e)}})]})}}]),n}(i.Component),v=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var s;Object(o.a)(this,n),s=e.call(this,t);var i=0,c=0,r=0,a=0,u=s.props.results||[];return u.forEach((function(t){t.correct?i++:t.reply?c++:r++,a+=t.duration})),s.state={results:u,correct:i,incorrect:c,timeout:r,avgDuration:u.length&&a/u.length,duration:a,score:u.length&&Math.floor(i/u.length*100)},s}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return Object(s.jsx)("div",{className:"modal",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsx)("span",{className:"close",onClick:function(){return t.props.onClose()},children:"x"}),Object(s.jsx)("table",{children:Object(s.jsxs)("tbody",{children:[Object(s.jsxs)("tr",{className:"correct",children:[Object(s.jsx)("td",{children:"\u7b54\u5c0d\u6b21\u6578\uff1a"}),Object(s.jsx)("td",{children:this.state.correct})]}),Object(s.jsxs)("tr",{className:this.state.incorrect>0?"incorrect":"",children:[Object(s.jsx)("td",{children:"\u7b54\u932f\u6b21\u6578\uff1a"}),Object(s.jsx)("td",{children:this.state.incorrect})]}),this.state.timeout>0&&Object(s.jsxs)("tr",{className:"incorrect",children:[Object(s.jsx)("td",{children:"\u903e\u6642\u6b21\u6578\uff1a"}),Object(s.jsx)("td",{children:this.state.timeout})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"\u5e73\u5747\u8017\u6642\uff1a"}),Object(s.jsxs)("td",{children:[this.state.avgDuration.toFixed(1)," \u79d2"]})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"\u5168\u90e8\u8017\u6642\uff1a"}),Object(s.jsxs)("td",{children:[this.state.duration.toFixed(1)," \u79d2"]})]})]})}),Object(s.jsx)("hr",{}),this.state.incorrect>0&&Object(s.jsxs)("table",{children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{style:{width:"5%"}}),Object(s.jsx)("th",{children:"\u984c\u76ee"}),Object(s.jsx)("th",{style:{width:"20%"},children:"\u89e3\u7b54"}),Object(s.jsx)("th",{style:{width:"20%"},children:"\u4f5c\u7b54"}),Object(s.jsx)("th",{style:{width:"25%"},children:"\u8017\u6642(\u79d2)"})]})}),Object(s.jsx)("tbody",{children:this.state.results.map((function(t,e){return t.correct||Object(s.jsxs)("tr",{className:t.correct?"correct":"incorrect",children:[Object(s.jsx)("td",{children:Object(s.jsx)("b",{})}),Object(s.jsx)("td",{children:t.question.description}),Object(s.jsx)("td",{children:t.question.answer.text}),Object(s.jsx)("td",{children:""===t.reply?"--":t.reply}),Object(s.jsx)("td",{children:t.duration.toFixed(1)})]},e)}))})]}),Object(s.jsxs)("div",{className:"modal-footer",children:[Object(s.jsx)("span",{className:"btn",onClick:function(){return t.props.onClose()},children:"\u95dc\u9589"}),this.props.enableReview&&this.state.incorrect>=3&&Object(s.jsx)("span",{className:"btn blue",onClick:function(){return t.props.onReview()},children:"\u8907\u7fd2"})]})]})})}}]),n}(i.Component),x=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onStart=function(){i.state.ready>0&&i.props.onStart(i.state.options.map((function(t){return null!=t.selections&&(t.selections=t.selections.filter((function(t){return t.selected}))),t})))},i.onSelected=function(t,e){e.selections.forEach((function(n){n.text===t.target.value?n.selected=t.target.checked:"single-choice"===e.type&&(n.selected=!1)})),e.selectedAll=0===e.selections.filter((function(t){return!0!==t.selected})).length,i.updateMenuItem(e)},i.onSlide=function(t,e){e.value=t.target.value,i.updateMenuItem(e),i.setState((function(t){t.options.forEach((function(t){t.name===e.name&&(t=e)}))}))},i.toggleAll=function(t){var e=i.state.options.filter((function(e){return e.name===t}))[0],n=e.selections;e.selectedAll=!e.selectedAll,n.forEach((function(t){t.selected=e.selectedAll})),i.updateMenuItem(e)},i.updateMenuItem=function(t){var e=!0;i.setState((function(n){return n.options.forEach((function(n){n.name===t.name&&(n=t),null!=n.selections&&0===n.selections.filter((function(t){return t.selected})).length&&(e=!1)})),{options:n.options,ready:e}}))},i.renderSwitch=function(t){switch(t.type){case"single-choice":case"multiple-choice":return Object(s.jsxs)("ul",{className:"sections",children:[t.selections.map((function(e,n){return Object(s.jsx)("li",{children:Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"checkbox",value:e.text,onChange:function(e){return i.onSelected(e,t)},checked:e.selected||!1}),Object(s.jsx)("span",{children:e.text})]})},n)})),"multiple-choice"===t.type&&Object(s.jsx)("li",{children:Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"checkbox",onChange:function(){return i.toggleAll(t.name)},checked:t.selectedAll||!1}),Object(s.jsx)("span",{children:"\u5168\u9078"})]})})]});case"range-slider":return Object(s.jsxs)("div",{className:"sections",children:[Object(s.jsx)("input",{className:"slider",type:"range",min:"3",max:"60",value:t.value,onChange:function(e){return i.onSlide(e,t)}}),t.value," \u79d2"]});default:return Object(s.jsx)("div",{})}};var c=i.props.questionBank,r=c.getTitle(),a=c.getOptions();return i.state={title:r,options:a,ready:!0},i}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:this.state.title}),this.state.options.map((function(e,n){return Object(s.jsxs)("section",{children:[Object(s.jsx)("h3",{children:e.title}),t.renderSwitch(e)]},n)})),Object(s.jsx)("nav",{children:Object(s.jsx)("span",{className:"btn large ".concat(this.state.ready?"green":"disable"),onClick:function(){return t.onStart()},children:"\u958b\u59cb"})})]})}}]),n}(i.Component),b=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t)).onStart=function(t){var e=i.props.questionBank;e.setSettings(t),e.initQuestions(),i.setState({componentName:e.getSetting("component"),enableReview:e.getSetting("enableReview")})},i.showResult=function(t){i.state.results.splice(0,i.state.results.length),i.setState({isShowResult:!0,results:t})},i.onReview=function(){for(var t=[],e=i.state.results.filter((function(t){return!t.correct})).map((function(t){return t.question})),n=0;n<3;n++)t=t.concat(e);i.props.questionBank.setQuestions(t),i.quizAttempt.current.nextQuestion(),i.setState({isShowResult:!1})},i.onClose=function(){i.props.onClose()},i.renderSwitch=function(t){switch(t){case"QuizAttempt":return Object(s.jsx)(p,{ref:i.quizAttempt,questionBank:i.props.questionBank,onFinish:function(t){return i.showResult(t)}});case"SchulteTable":return Object(s.jsx)(m,{questionBank:i.props.questionBank,onFinish:function(t){return i.showResult(t)}});default:return Object(s.jsx)(x,{questionBank:i.props.questionBank,onStart:function(t){return i.onStart(t)}})}},i.state={description:"",answer:{},choices:[],results:[]},i.quizAttempt=c.a.createRef(),i}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"header",children:this.state.isShowResult||Object(s.jsx)("span",{className:"close",onClick:function(){return t.props.onClose()},children:"x"})}),this.renderSwitch(this.state.componentName),this.state.isShowResult&&Object(s.jsx)(v,{enableReview:this.state.enableReview,results:this.state.results,onReview:function(){return t.onReview()},onClose:function(){return t.onClose()}})]})}}]),n}(i.Component),g=function t(){Object(o.a)(this,t)};g.pickRandomItems=function(t,e){for(var n=[],s=0;s<e;s++){var i=g.getRandomInt(t.length),c=t.splice(i,1)[0];n.push(c)}return n},g.getRandomInt=function(t){return g.getRandomIntRange(0,t)},g.getRandomIntRange=function(t,e){return Math.floor(Math.random()*(e-t)+t)};var O=function t(){var e=this;Object(o.a)(this,t),this.getTitle=function(){return e.getSetting("title")},this.generateChoices=function(t){for(var n=t.answer.value,s=t.answerRange||20,i=[],c=Math.max(2,n-s);c<n+s;c++)c!==n&&i.push({text:e.convertText(c),value:c});var r=e.getSetting("choiceCount")-1,a=g.pickRandomItems(i,r);return a.splice(g.getRandomInt(r),0,{text:e.convertText(n),value:n}),a},this.setQuestions=function(t){e.questions=t||[]},this.nextQuestion=function(){if(0===e.questions.length)return null;var t=g.getRandomInt(e.questions.length),n=e.questions.splice(t,1)[0];return n.choices=e.generateChoices(n),e.currentQuestion=n},this.checkAnswer=function(t){return null!=t&&t.toString()===e.currentQuestion.answer.value.toString()},this.convertText=function(t){return t.toString()},this.getOptions=function(){var t=e.getSections();return t[0].selected=!0,[{title:"\u8acb\u9078\u64c7",name:"sections",type:"multiple-choice",selections:t},{title:"\u7b54\u984c\u65b9\u5f0f",name:"anwser-method",type:"single-choice",selections:[{text:"\u9078\u64c7\u984c",value:"choice",selected:!0},{text:"\u586b\u5145\u984c",value:"filling"}]},{title:"\u7b54\u984c\u9650\u6642",name:"timeoutSeconds",type:"range-slider",value:10}]},this.setSettings=function(t){t.forEach((function(t){e.settings[t.name]=t.selections||t.value}))},this.getSetting=function(t){return e.settings[t]},this.settings={component:"QuizAttempt",enableReview:!0,choiceCount:6}},S=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).getOptions=function(){var e=t.getSections();return e[0].selected=!0,[{title:"\u8acb\u9078\u64c7",name:"sections",type:"single-choice",selections:e},{title:"\u6587\u5b57",name:"character",type:"single-choice",selections:[{text:"123",value:"numeral",selected:!0},{text:"\u3105\u3106\u3107",value:"\u3105\u3106\u3107\u3108\u3109\u310a\u310b\u310c\u310d\u310e\u310f\u3110\u3111\u3112\u3113\u3114\u3115\u3116\u3117\u3118\u3119\u3127\u3128\u3129\u311a\u311b\u311c\u311d\u311e\u311f\u3120\u3121\u3122\u3123\u3124\u3125\u3126"},{text:"ABC",value:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"},{text:"abc",value:"abcdefghijklmnopqrstuvwxyz"},{text:"\u3042\u3044\u3046",value:"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3092\u3093"},{text:"\u30a2\u30a4\u30a6",value:"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f2\u30f3"}]}]},t.getSections=function(){for(var t=[],e=3;e<=9;e++)t.push({text:"".concat(e," x ").concat(e," \u683c"),value:e});return t},t.initQuestions=function(){for(var e=t.getSetting("sections")[0].value,n=t.characters=t.getCharacters(t.getSetting("character")[0].value),s=Math.min(e,Math.ceil(Math.sqrt(n.length))),i=Math.pow(s,2),c=[],r=1;r<=i;r++){var a=n[r-1];c.push(null==a?null:{text:a,value:r})}t.setQuestions(g.pickRandomItems(c,i))},t.nextQuestion=function(){return t.cursor=0,t.questions},t.checkAnswer=function(e){return null!=e&&e===t.cursor},t.nextCursor=function(){if(t.cursor>=t.questions.length)return null;var e=t.cursor++;return{text:t.characters[e],value:e}},t.getCharacters=function(t){return"numeral"===t?Array.from({length:Math.pow(9,2)},(function(t,e){return e+1})):t.split("")},t.settings.title="\u8212\u723e\u7279\u65b9\u683c",t.settings.component="SchulteTable",t.settings.enableReview=!1,t}return n}(O),w=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).getSections=function(){return[{text:"10 \u4ee5\u5167\u52a0\u6cd5",minimum:0,minSummation:1,maxSummation:10,answerRange:10},{text:"20 \u4ee5\u5167\u52a0\u6cd5",minimum:0,minSummation:10,maxSummation:20,answerRange:10},{text:"\u5169\u4f4d\u6578\u52a0\u6cd5",minimum:10,minSummation:20,maxSummation:99,answerRange:20},{text:"\u4e09\u4f4d\u6578\u52a0\u6cd5",minimum:100,minSummation:200,maxSummation:999,answerRange:50},{text:"\u56db\u4f4d\u6578\u52a0\u6cd5",minimum:1e3,minSummation:2e3,maxSummation:9999,answerRange:50}]},t.initQuestions=function(){var e=t.getSetting("sections"),n=t.getSetting("questionCount"),s=[];(e||t.getSections()).forEach((function(e){for(var i=new Map;i.size<n;){var c=g.getRandomIntRange(e.minSummation,e.maxSummation),r=g.getRandomIntRange(e.minimum,c-e.minimum),a=c-r,o="".concat(r," + ").concat(a);i.set(o,{description:o,answer:{text:t.convertText(c),value:c},answerRange:e.answerRange})}i.forEach((function(t){s.push(t)}))})),t.setQuestions(s)},t.settings.title="\u52a0\u6cd5\u7df4\u7fd2",t.settings.questionCount=10,t}return n}(O),k=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).getSections=function(){return[{text:"10 \u4ee5\u5167\u6e1b\u6cd5",minimum:0,minSummation:1,maxSummation:10,answerRange:10},{text:"20 \u4ee5\u5167\u6e1b\u6cd5",minimum:0,minSummation:10,maxSummation:20,answerRange:10},{text:"\u5169\u4f4d\u6578\u6e1b\u6cd5",minimum:10,minSummation:20,maxSummation:99,answerRange:20},{text:"\u4e09\u4f4d\u6578\u6e1b\u6cd5",minimum:100,minSummation:200,maxSummation:999,answerRange:50},{text:"\u56db\u4f4d\u6578\u6e1b\u6cd5",minimum:1e3,minSummation:2e3,maxSummation:9909,answerRange:50}]},t.initQuestions=function(){var e=t.getSetting("sections"),n=t.getSetting("questionCount"),s=[];(e||t.getSections()).forEach((function(e){for(var i=new Map;i.size<n;){var c=g.getRandomIntRange(e.minSummation,e.maxSummation),r=g.getRandomIntRange(e.minimum,c),a=c-r,o="".concat(c," - ").concat(r);i.set(o,{description:o,answer:{text:t.convertText(a),value:a},answerRange:e.answerRange})}i.forEach((function(t){s.push(t)}))})),t.setQuestions(s)},t.settings.title="\u6e1b\u6cd5\u7df4\u7fd2",t.settings.questionCount=10,t}return n}(O),C=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var s;switch(Object(o.a)(this,n),(s=e.call(this)).getSections=function(){for(var t=[],e=s.getSetting("multiplier"),n=s.getSetting("multiplicand"),i=e;i<=n;i++)t.push({text:"".concat(i," x ").concat(n),value:i});return t},s.initQuestions=function(){var t=s.getSetting("sections"),e=s.getSetting("multiplicand"),n=[];(t||s.getSections()).forEach((function(t){for(var i=2;i<=e;i++)n.push({description:"".concat(t.value," x ").concat(i),answer:{text:s.convertText(t.value*i),value:t.value*i}})})),s.setQuestions(n)},t||1){case 2:s.settings.multiplier=11,s.settings.multiplicand=19,s.settings.title="19 x 19 \u4e58\u6cd5\u7df4\u7fd2";break;default:s.settings.multiplier=2,s.settings.multiplicand=9,s.settings.title="9 x 9 \u4e58\u6cd5\u7df4\u7fd2"}return s}return n}(O),y=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).drawClock=function(t){var e=s.canvas.current;e.height=e.width;var n=e.getContext("2d"),i=e.height/2;n.translate(i,i),i*=.9,s.context=n,s.radius=i;var c=(t||"00:00:00").split(":"),r=c[0]||"0",a=c[1]||"0",o=c[2]||"0";s.drawFace(),s.drawNumbers(),s.drawTime(r,a,o)},s.drawFace=function(){var t=s.context,e=s.radius;t.beginPath(),t.arc(0,0,e,0,2*Math.PI),t.fillStyle="white",t.fill()},s.drawNumbers=function(){var t=s.context,e=s.radius;t.beginPath(),t.fillStyle="black",t.font="bold ".concat(.2*e,"px arial"),t.textBaseline="middle",t.textAlign="center";for(var n=1;n<13;n++){var i=n*Math.PI/6;t.rotate(i),t.translate(0,.85*-e),t.rotate(-i),t.fillText(n.toString(),0,0),t.rotate(i),t.translate(0,.85*e),t.rotate(-i)}},s.drawTime=function(t,e,n){var i=s.radius;t=(t%=12)*Math.PI/6+e*Math.PI/360+n*Math.PI/21600,s.drawHand(t,.4*i,.07*i),e=e*Math.PI/30+n*Math.PI/1800,s.drawHand(e,.7*i,.05*i),"true"!==s.disableSecondhand&&(n=n*Math.PI/30,s.drawHand(n,.6*i,.02*i,"red"))},s.drawHand=function(t,e,n,i){var c=s.context;i=i||"black",c.beginPath(),c.arc(0,0,e*n*.015,0,2*Math.PI),c.fillStyle=i,c.fill(),c.beginPath(),c.strokeStyle=i,c.lineWidth=n,c.lineCap="round",c.moveTo(0,0),c.rotate(t),c.lineTo(0,-e),c.stroke(),c.rotate(-t)},s.canvas=c.a.createRef(),s}return Object(u.a)(n,[{key:"componentWillReceiveProps",value:function(t){this.disableSecondhand=t.disableSecondhand,this.drawClock(t.hhmmss)}},{key:"componentDidMount",value:function(){this.disableSecondhand=this.props.disableSecondhand,this.drawClock(this.props.hhmmss)}},{key:"render",value:function(){return Object(s.jsx)("canvas",{className:"clock",ref:this.canvas,width:this.props.width||200})}}]),n}(i.Component),R=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).secondsInDay=86400,t.getOptions=function(){var e=t.getSections();return e[0].selected=!0,[{title:"\u8acb\u9078\u64c7",name:"sections",type:"multiple-choice",selections:e},{title:"\u7b54\u984c\u9650\u6642",name:"timeoutSeconds",type:"range-slider",value:10}]},t.getSections=function(){return[{text:"\u6574\u9ede\u9418",intervalSeconds:3600,answerRange:10},{text:"\u534a\u9ede\u9418",intervalSeconds:1800,answerRange:10},{text:"5\u5206\u9418",intervalSeconds:300,answerRange:10},{text:"1\u5206\u9418",intervalSeconds:60,answerRange:10},{text:"\u6642\u5206\u79d2",intervalSeconds:5,answerRange:120}]},t.initQuestions=function(){var e=t.getSetting("sections"),n=t.getSetting("questionCount"),i=[];(e||t.getSections()).forEach((function(e){for(var c=new Map;c.size<n;){var r=5!==e.intervalSeconds,a=g.getRandomInt(t.secondsInDay/2);a-=a%e.intervalSeconds;var o=t.convertText(a,r);c.set(o,{description:Object(s.jsx)(y,{hhmmss:o,disableSecondhand:r.toString()}),answer:{text:o,value:a},answerRange:e.answerRange,intervalSeconds:e.intervalSeconds,disableSecondhand:r})}c.forEach((function(t){i.push(t)}))})),t.setQuestions(i)},t.generateChoices=function(e){for(var n=e.answer.value,s=e.answerRange*e.intervalSeconds,i=e.intervalSeconds,c=[],r=Math.max(0,n-s);r<Math.min(n+s,t.secondsInDay/2);r+=i)r!==n&&c.push({text:t.convertText(r,e.disableSecondhand),value:r});var a=t.getSetting("choiceCount")-1,o=g.pickRandomItems(c,a);return o.splice(g.getRandomInt(a),0,{text:t.convertText(n,e.disableSecondhand),value:n}),o},t.convertText=function(t,e){var n=Math.floor(t/3600)+1,s=Math.floor(t%3600/60),i=t%60,c="".concat(n.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0"));return e||(c+=":".concat(i.toString().padStart(2,"0"))),c},t.settings.title="\u6642\u9418\u7df4\u7fd2",t.settings.questionCount=10,t}return n}(O),q=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).start=function(t){s.setState({isStart:!0,questionBank:t})},s.state={isStart:!1,questionBanks:[new S,new w,new k,new C,new C(2),new R]},s}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return Object(s.jsx)("div",{className:"app",children:this.state.isStart?Object(s.jsx)(b,{questionBank:this.state.questionBank,onClose:function(){return t.setState({isStart:!1})}}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"\u6578\u5b78\u7df4\u7fd2\u5c0f\u7a0b\u5f0f"}),Object(s.jsx)("ul",{children:this.state.questionBanks.map((function(e,n){return Object(s.jsx)("li",{className:"btn green",onClick:function(){return t.start(e)},children:e.getTitle()},n)}))})]})})}}]),n}(i.Component);a.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(q,{})}),document.getElementById("root"))},7:function(t,e,n){}},[[16,1,2]]]);
//# sourceMappingURL=main.14809641.chunk.js.map