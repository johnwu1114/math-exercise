{"version":3,"sources":["i18n.js","libs/utils/timer.js","components/schulte-table.jsx","components/countdown.jsx","components/numeric-keypad.jsx","components/quiz-attempt.jsx","components/quiz-result.jsx","components/quiz-setting.jsx","pages/quiz-page.jsx","libs/utils/random.js","libs/question-bank/base.js","libs/question-bank/schulte-table.js","libs/question-bank/addition.js","libs/question-bank/subtraction.js","libs/question-bank/multiplication.js","components/clock.jsx","libs/question-bank/clock.js","app-routes.js","pages/menu-page.jsx","app.jsx","index.js"],"names":["resources","translation","i18n","use","detector","reactI18nextModule","init","fallbackLng","keySeparator","interpolation","escapeValue","document","documentElement","lang","language","Timer","callback","start","intervalId","setInterval","durationSeconds","intervalSeconds","stop","clearInterval","restart","getDuration","this","SchulteTable","props","updateTime","seconds","setState","time","toFixed","checkAnswer","reply","answerTimer","clearTimeout","effectId","sytle","cursor","state","correct","questionBank","value","logAnswer","nextCursor","timer","onFinish","results","clicked","setTimeout","squareRoot","Math","sqrt","characters","length","result","question","description","t","answer","text","duration","push","nextQuestion","className","map","character","onClick","Component","Countdown","reset","pause","resume","countdown","maximum","onChanged","timeout","min","getStatus","rate","round","parseFloat","max","NumericKeypad","num","input","onBack","clear","substring","onConfirm","numbers","i","QuizAttempt","choices","splice","count","getCount","getCursor","current","numericKeypad","convertText","disableSecondhand","onCountdownChanged","renderSwitch","answerMethod","ref","parseInt","choice","getSetting","timeoutSeconds","React","createRef","QuizResult","incorrect","forEach","avgDuration","score","floor","onClose","style","width","enableReview","onReview","QuizSetting","onStart","ready","options","x","selections","filter","s","selected","onSelected","event","option","selection","target","checked","type","selectedAll","updateMenuItem","onSlide","name","toggleAll","j","onChange","e","step","unit","title","getTitle","getOptions","QuizPage","setSettings","initQuestions","componentName","showResult","isShowResult","questions","incorrectQuestions","concat","setQuestions","quizAttempt","history","handleUnload","bind","window","addEventListener","removeEventListener","returnValue","withRouter","RandomUtil","pickRandomItems","arr","items","index","getRandomInt","item","getRandomIntRange","random","QuestionBankBase","generateChoices","answerRange","seeds","randomCount","currentQuestion","toString","sections","getSections","settings","component","choiceCount","SchulteTableQuestionBank","section","getCharacters","ceil","pow","char","str","Array","from","split","AdditionQuestionBank","minimum","minSummation","maxSummation","maxCount","questionCount","questionCountOfSection","hashMap","Map","size","summation","y","key","set","SubtractionQuestionBank","MultiplicationQuestionBank","level","multiplier","multiplicand","Clock","drawClock","hhmmss","canvas","height","context","getContext","radius","translate","hour","minute","second","drawFace","drawNumbers","drawTime","beginPath","arc","PI","fillStyle","fill","font","textBaseline","textAlign","ang","rotate","fillText","drawHand","pos","strokeStyle","lineWidth","lineCap","moveTo","lineTo","stroke","nextProps","ClockQuestionBank","secondsInDay","disableSeconds","padStart","AppRoutes","path","MenuPage","route","to","App","setMeta","content","querySelector","setAttribute","exact","withNamespaces","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9b3afefe.chunk.js","sourcesContent":["import i18n from \"i18next\";\nimport detector from \"i18next-browser-languagedetector\";\nimport {\n  reactI18nextModule\n} from \"react-i18next\";\nimport en from \"./locales/en.json\";\nimport zhtw from \"./locales/zh-tw.json\";\n\n// ref: https://react.i18next.com/legacy-v9/step-by-step-guide\n\nconst resources = {\n  \"en\": {\n    translation: en\n  },\n  \"zh-TW\": {\n    translation: zhtw\n  }\n};\n\ni18n\n  .use(detector)\n  .use(reactI18nextModule)\n  .init({\n    resources,\n    // lng: \"zhtw\",\n    fallbackLng: \"zh-TW\",\n    keySeparator: false,\n    interpolation: {\n      escapeValue: false\n    }\n  });\n\n\ndocument.documentElement.lang = i18n.language;\nexport default i18n;","export default class Timer {\n  constructor(callback) {\n    this.intervalSeconds = 0.1;\n    this.durationSeconds = 0;\n    this.callback = callback;\n  }\n\n  start = () => {\n    this.intervalId = setInterval(() => {\n      this.durationSeconds += this.intervalSeconds;\n      if (this.callback) this.callback(this.durationSeconds);\n    }, this.intervalSeconds * 1000);\n  }\n\n  stop = () => {\n    if (this.intervalId) clearInterval(this.intervalId);\n  }\n\n  restart = () => {\n    this.stop();\n    this.durationSeconds = 0;\n    this.start();\n  }\n\n  getDuration = () => {\n    return this.durationSeconds;\n  }\n}","import \"../styles/schulte-table.css\";\nimport React, { Component } from \"react\";\nimport i18n from \"i18next\";\nimport Timer from \"../libs/utils/timer\";\n\nexport default class SchulteTable extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.questionBank = props.questionBank;\n    this.results = [];\n    this.timer = new Timer(this.updateTime);\n    this.answerTimer = new Timer();\n\n    this.state = {\n      characters: this.questionBank.nextQuestion(),\n      cursor: this.questionBank.nextCursor(),\n      clicked: {},\n      time: 0\n    };\n  }\n\n  componentDidMount() {\n    this.timer.start();\n    this.answerTimer.start();\n  }\n\n  componentWillUnmount() {\n    this.timer.stop();\n    this.answerTimer.stop();\n  }\n\n  updateTime = (seconds) => {\n    this.setState({ time: `${seconds.toFixed(1)}s` });\n  }\n\n  checkAnswer = (reply) => {\n    this.answerTimer.stop();\n    clearTimeout(this.effectId);\n    let sytle = \"incorrect\";\n    let cursor = this.state.cursor;\n    let correct = this.questionBank.checkAnswer(reply.value);\n    this.logAnswer(reply);\n\n    if (correct) {\n      sytle = \"correct\";\n      cursor = this.questionBank.nextCursor();\n      if (cursor === null) {\n        this.timer.stop();\n        this.setState({ time: null });\n        this.props.onFinish(this.results);\n        this.results = [];\n        return;\n      }\n    }\n\n    this.setState({\n      clicked: {\n        value: reply.value,\n        sytle: sytle\n      },\n      cursor: cursor\n    });\n    this.effectId = setTimeout(() => {\n      this.setState({ clicked: {} });\n    }, 500);\n    this.answerTimer.restart();\n  }\n\n  logAnswer = (reply) => {\n    let squareRoot = Math.sqrt(this.state.characters.length);\n    let result = {\n      question: {\n        description: `${squareRoot} x ${squareRoot} ${i18n.t(\"grid\")}`,\n        answer: {\n          text: `${i18n.t(\"click\")} ${this.state.cursor.text}`\n        }\n      },\n      reply: reply.text,\n      correct: this.questionBank.checkAnswer(reply.value),\n      duration: this.answerTimer.getDuration()\n    };\n    this.results.push(result);\n  }\n\n  render() {\n    const { clicked } = this.state;\n    return (\n      <div>\n        <div className=\"schulte-table\">\n          <div className=\"cursor\">{i18n.t(\"click\")}：<b>{this.state.cursor.text}</b></div>\n          <div className=\"time\">{this.state.time}</div>\n          <div className={`characters size-${this.state.characters.length}`}>\n            {this.state.characters.map((character) =>\n              character && <div key={character.value}\n                className={`cell ${(clicked.value === character.value ? clicked.sytle : \"\")}`}\n                onClick={() => this.checkAnswer(character)}><span>{character.text}</span></div>\n            )}\n          </div>\n        </div>\n      </div >\n    );\n  }\n}","import React, { Component } from \"react\";\nimport Timer from \"../libs/utils/timer\";\n\nexport default class Countdown extends Component {\n\n  constructor(props) {\n    super(props);\n    this.maximum = parseFloat(props.seconds || 10);\n    this.timer = new Timer(this.countdown);\n    this.state = { time: this.maximum };\n  }\n\n  reset = () => {\n    this.timer.restart();\n  }\n\n  pause = () => {\n    this.timer.stop();\n  }\n\n  resume = () => {\n    this.timer.start();\n  }\n\n  countdown = () => {\n    this.setState({ time: this.maximum - this.timer.getDuration() });\n    this.props.onChanged(this.state.time);\n    if (this.state.time > 0) return;\n    this.timeout();\n  }\n\n  timeout = () => {\n    this.timer.stop();\n    this.props.timeout();\n  }\n\n  getDuration = () => {\n    return Math.min(this.maximum, this.timer.getDuration());\n  }\n\n  getStatus = () => {\n    let rate = Math.round(this.state.time / this.maximum * 100);\n    if (rate < 20) return \"danger\";\n    else if (rate < 50) return \"warning\";\n    return \"\";\n  }\n\n  render() {\n    return (\n      <progress className={this.getStatus()} max={this.maximum} value={this.state.time.toFixed(1)}></progress>\n    );\n  }\n}","import \"../styles/schulte-table.css\";\nimport React, { Component } from \"react\";\n\nexport default class NumericKeypad extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      clicked: {}\n    };\n\n    this.numbers = [];\n    for (let i = 1; i <= 9; i++) {\n      this.numbers.push(i);\n    }\n    this.clear();\n  }\n\n  onClick = (num) => {\n    this.input += `${num}`;\n\n    if (this.props.onChanged)\n      this.props.onChanged(this.input);\n  }\n\n  onBack = () => {\n    if (this.input.length <= 1)\n      this.clear();\n    else\n      this.input = this.input.substring(0, this.input.length - 1);\n\n    if (this.props.onChanged)\n      this.props.onChanged(this.input);\n  }\n\n  onConfirm = () => {\n    if (this.input === \"\") return;\n    this.props.onConfirm(this.input);\n    this.clear();\n  }\n\n  clear = () => {\n    this.input = \"\";\n  }\n\n  render() {\n    const { clicked } = this.state;\n    return (\n      <div className=\"numeric-keypad\">\n        <div className=\"numbers\">\n          {this.numbers.map(num =>\n            <div key={num}\n              className={`cell ${(clicked.num === num ? clicked.sytle : \"\")}`}\n              onClick={() => this.onClick(num)}><span>{num}</span></div>\n          )}\n          <div className=\"cell\" onClick={() => this.onBack()}><span className=\"icon-backspace\"></span></div>\n          <div className={`cell ${(clicked.num === 0 ? clicked.sytle : \"\")}`}\n            onClick={() => this.onClick(0)}><span>0</span></div>\n          <div className=\"cell\" onClick={() => this.onConfirm()}><span className=\"icon-check\"></span></div>\n        </div>\n      </div>\n    )\n  }\n}","import React, { Component } from \"react\";\nimport i18n from \"i18next\";\nimport Countdown from \"./countdown.jsx\";\nimport NumericKeypad from \"./numeric-keypad.jsx\";\n\nexport default class QuizAttempt extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.questionBank = props.questionBank;\n    let answerMethod = this.questionBank.getSetting(\"anwser-method\");\n    let timeoutSeconds = this.questionBank.getSetting(\"timeoutSeconds\");\n\n    this.results = [];\n    this.state = {\n      description: \"\",\n      answer: {},\n      choices: [],\n      reply: \"\",\n      timeoutSeconds: timeoutSeconds,\n      answerMethod: answerMethod == null ? \"choice\" : answerMethod[0].value,\n      count: this.questionBank.getCount(),\n      cursor: this.questionBank.getCursor()\n    };\n    this.countdown = React.createRef();\n    this.numericKeypad = React.createRef();\n  }\n\n  componentDidMount() {\n    this.nextQuestion();\n  }\n\n  componentWillUnmount() {\n    this.countdown.current.pause();\n  }\n\n  nextQuestion = () => {\n    this.setState({ correct: null });\n\n    let question = this.questionBank.nextQuestion();\n    if (question === null) {\n      this.props.onFinish(this.results);\n      this.results = [];\n      return;\n    }\n\n    this.state.choices.splice(0, this.state.choices.length);\n    question.reply = \"\";\n    question.count = this.questionBank.getCount();\n    question.cursor = this.questionBank.getCursor();\n    this.setState(question);\n    this.countdown.current.reset();\n    if (this.numericKeypad.current)\n      this.numericKeypad.current.clear();\n  }\n\n  checkAnswer = (reply) => {\n    reply = reply == null ? \"\" : reply;\n    this.countdown.current.pause();\n    let correct = this.questionBank.checkAnswer(reply);\n    this.logAnswer(reply);\n\n    this.setState({\n      correct: correct,\n      reply: reply\n    });\n    if (correct) this.nextQuestion();\n  }\n\n  logAnswer = (reply) => {\n    let result = {\n      question: this.state,\n      reply: this.questionBank.convertText(reply, this.state.disableSecondhand),\n      correct: this.questionBank.checkAnswer(reply),\n      duration: this.countdown.current.getDuration()\n    };\n    this.results.push(result);\n  }\n\n  onCountdownChanged = (value) => {\n    this.setState({ countdown: value });\n  }\n\n  renderSwitch = () => {\n    switch (this.state.answerMethod) {\n      case \"filling\":\n        return <NumericKeypad ref={this.numericKeypad}\n          onChanged={value => this.setState({ reply: value })}\n          onConfirm={value => this.checkAnswer(parseInt(value))} />\n      default:\n        return <ul className=\"choices\">\n          {this.state.choices.map((choice, i) =>\n            <li key={i} onClick={() => this.checkAnswer(choice.value)} ><span>{choice.text}</span></li>\n          )}\n        </ul>\n    }\n  }\n\n  render() {\n    return (\n      <div className={`answer-method ${this.state.answerMethod}`}>\n        <span className=\"questionNumber\">{`${this.state.cursor}/${this.state.count}`}</span>\n        <div className={`question ${this.state.countdown < 3 && this.state.correct !== false && \"blink\"}`}>\n          {this.state.description} {this.state.answerMethod === \"filling\" && <span>{`= ${this.state.reply}`}</span>}\n        </div>\n        {this.state.correct === false\n          ? <div>\n            <p>{this.state.reply === \"\" ? i18n.t(\"timeout\") : i18n.t(\"wrong-answer\") } {i18n.t(\"answer\")}：{this.state.answer.text}</p>\n            <span className=\"btn large blue\" onClick={() => this.nextQuestion()}>{i18n.t(\"next\")}</span>\n          </div>\n          : this.renderSwitch()}\n        <Countdown ref={this.countdown}\n          seconds={this.state.timeoutSeconds}\n          timeout={() => this.checkAnswer(this.state.reply)}\n          onChanged={value => this.onCountdownChanged(value)} />\n      </div>\n    );\n  }\n}","import React, { Component } from \"react\";\nimport i18n from \"i18next\";\n\nexport default class QuizResult extends Component {\n  constructor(props) {\n    super(props);\n\n    let correct = 0;\n    let incorrect = 0;\n    let timeout = 0;\n    let duration = 0;\n    let results = this.props.results || [];\n    results.forEach(result => {\n      if (result.correct) correct++;\n      else if (result.reply) incorrect++;\n      else timeout++;\n      duration += result.duration;\n    });\n    this.state = {\n      results: results,\n      correct: correct,\n      incorrect: incorrect,\n      timeout: timeout,\n      avgDuration: results.length && duration / results.length,\n      duration: duration,\n      score: results.length && Math.floor(correct / results.length * 100),\n    };\n  }\n\n  render() {\n    return (\n      <div className=\"modal\">\n        <div className=\"modal-content\">\n          <span className=\"close\" onClick={() => this.props.onClose()}>x</span>\n          <table>\n            <tbody>\n              <tr className=\"correct\"><td>{i18n.t(\"number-of-correct\")}：</td><td>{this.state.correct}</td></tr>\n              <tr className={this.state.incorrect > 0 ? \"incorrect\" : \"\"}><td>{i18n.t(\"number-of-wrong\")}：</td><td>{this.state.incorrect}</td></tr>\n              {this.state.timeout > 0 && <tr className=\"incorrect\"><td>{i18n.t(\"number-of-timeout\")}：</td><td>{this.state.timeout}</td></tr>}\n              <tr><td>{i18n.t(\"avg-duration\")}：</td><td>{this.state.avgDuration.toFixed(1)} {i18n.t(\"seconds\")}</td></tr>\n              <tr><td>{i18n.t(\"total-duration\")}：</td><td>{this.state.duration.toFixed(1)} {i18n.t(\"seconds\")}</td></tr>\n            </tbody>\n          </table>\n          <hr />\n          {this.state.incorrect > 0 &&\n            <table>\n              <thead>\n                <tr>\n                  <th style={{ width: \"5%\" }}></th>\n                  <th>{i18n.t(\"question\")}</th>\n                  <th style={{ width: \"20%\" }}>{i18n.t(\"answer\")}</th>\n                  <th style={{ width: \"20%\" }}>{i18n.t(\"reply\")}</th>\n                  <th style={{ width: \"25%\" }}>{i18n.t(\"duration\")}</th>\n                </tr>\n              </thead>\n              <tbody>\n                {this.state.results.map((result, i) => result.correct ||\n                  <tr key={i} className={result.correct ? \"correct\" : \"incorrect\"}>\n                    <td><b /></td>\n                    <td>{result.question.description}</td>\n                    <td>{result.question.answer.text}</td>\n                    <td>{result.reply === \"\" ? \"--\" : result.reply}</td>\n                    <td>{result.duration.toFixed(1)}</td>\n                  </tr>\n                )}\n              </tbody>\n            </table>}\n          <div className=\"modal-footer\">\n            <span className=\"btn\" onClick={() => this.props.onClose()}>{i18n.t(\"close\")}</span>\n            {this.props.enableReview && this.state.incorrect >= 3 &&\n              <span className=\"btn blue\" onClick={() => this.props.onReview()}>{i18n.t(\"review\")}</span>}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}","import React, { Component } from \"react\";\nimport i18n from \"i18next\";\n\nexport default class QuizSetting extends Component {\n  constructor(props) {\n    super(props);\n    let questionBank = this.props.questionBank;\n    let title = questionBank.getTitle();\n    let options = questionBank.getOptions();\n\n    this.state = {\n      title: title,\n      options: options,\n      ready: true\n    };\n  }\n\n  onStart = () => {\n    if (this.state.ready > 0)\n      this.props.onStart(this.state.options.map(x => {\n        if (x.selections != null)\n          x.selections = x.selections.filter(s => s.selected);\n        return x;\n      }));\n  }\n\n  onSelected = (event, option) => {\n    option.selections.forEach(selection => {\n      if (selection.text === event.target.value) {\n        selection.selected = event.target.checked;\n      } else if (option.type === \"single-choice\") {\n        selection.selected = false;\n      }\n    });\n    option.selectedAll = option.selections.filter(x => x.selected !== true).length === 0;\n\n    this.updateMenuItem(option);\n  }\n\n  onSlide = (event, option) => {\n    option.value = event.target.value;\n    this.updateMenuItem(option);\n    this.setState(state => {\n      state.options.forEach(x => {\n        if (x.name === option.name) x = option;\n      });\n    });\n  }\n\n  toggleAll = (name) => {\n    let option = this.state.options.filter(x => x.name === name)[0];\n    let selections = option.selections;\n    option.selectedAll = !option.selectedAll;\n    selections.forEach(selection => {\n      selection.selected = option.selectedAll;\n    })\n\n    this.updateMenuItem(option);\n  }\n\n  updateMenuItem = (option) => {\n    let ready = true;\n    this.setState(state => {\n      state.options.forEach(x => {\n        if (x.name === option.name) x = option;\n        if (x.selections != null && x.selections.filter(s => s.selected).length === 0)\n          ready = false;\n      });\n\n      return {\n        options: state.options,\n        ready: ready\n      }\n    });\n  }\n\n  renderSwitch = (option) => {\n    switch (option.type) {\n      case \"single-choice\":\n      case \"multiple-choice\":\n        return <ul className=\"sections\">\n          {option.selections.map((selection, j) =>\n            <li key={j}>\n              <label>\n                <input type=\"checkbox\"\n                  value={selection.text}\n                  onChange={e => this.onSelected(e, option)}\n                  checked={selection.selected || false} />\n                <span>{selection.text}</span>\n              </label>\n            </li>\n          )}\n          {option.type === \"multiple-choice\" && <li>\n            <label>\n              <input type=\"checkbox\" onChange={() => this.toggleAll(option.name)} checked={option.selectedAll || false} />\n              <span>{i18n.t(\"select-all\")}</span>\n            </label>\n          </li>}\n        </ul>;\n      case \"range-slider\":\n        return <div className=\"sections\">\n          <input className=\"slider\" type=\"range\" min={option.min} max={option.max} step={option.step}\n            value={option.value} onChange={e => this.onSlide(e, option)} />\n            {option.value} {option.unit}\n        </div>;\n      default:\n        return <div></div>;\n    }\n  }\n\n\n  render() {\n    return (\n      <div>\n        <h2>{this.state.title}</h2>\n        {this.state.options.map((option, i) =>\n          <section key={i}>\n            <h3>{option.title}</h3>\n            {this.renderSwitch(option)}\n          </section>\n        )}\n        <nav>\n          <span className={`btn large ${this.state.ready ? \"green\" : \"disable\"}`} onClick={() => this.onStart()}>{i18n.t(\"start\")}</span>\n        </nav>\n      </div>\n    );\n  }\n}","import \"../styles/quiz.css\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport i18n from \"i18next\";\nimport SchulteTable from \"../components/schulte-table.jsx\";\nimport QuizAttempt from \"../components/quiz-attempt.jsx\";\nimport QuizResult from \"../components/quiz-result.jsx\";\nimport QuizSetting from \"../components/quiz-setting.jsx\";\n\nclass QuizPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      results: []\n    };\n    this.quizAttempt = React.createRef();\n    this.handleUnload = this.handleUnload.bind(this);\n    this.questionBank = this.props.questionBank();\n  }\n\n  componentDidMount() {\n    document.title = `${this.questionBank.getTitle()} | ${i18n.t(\"app-name\")}`;\n    window.addEventListener(\"beforeunload\", this.handleUnload);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"beforeunload\", this.handleUnload);\n  }\n\n  handleUnload(e) {\n    var message = \"\";\n\n    (e || window.event).returnValue = message; // Gecko + IE\n    return message;\n  }\n\n  onStart = (options) => {\n    this.questionBank.setSettings(options);\n    this.questionBank.initQuestions();\n    this.setState({\n      componentName: this.questionBank.getSetting(\"component\"),\n      enableReview: this.questionBank.getSetting(\"enableReview\")\n    });\n  }\n\n  showResult = (results) => {\n    this.state.results.splice(0, this.state.results.length);\n    this.setState({\n      isShowResult: true,\n      results: results\n    });\n  }\n\n  onReview = () => {\n    let questions = [];\n    let incorrectQuestions = this.state.results\n      .filter(x => !x.correct)\n      .map(x => x.question);\n    for (let i = 0; i < 3; i++)\n      questions = questions.concat(incorrectQuestions);\n    this.questionBank.setQuestions(questions);\n\n    this.quizAttempt.current.nextQuestion();\n    this.setState({ isShowResult: false });\n  }\n\n  onClose = () => {\n    this.props.history.push(\"/\");\n  }\n\n  renderSwitch = (componentName) => {\n    switch (componentName) {\n      case \"QuizAttempt\":\n        return <QuizAttempt ref={this.quizAttempt}\n          questionBank={this.questionBank}\n          onFinish={results => this.showResult(results)} />;\n      case \"SchulteTable\":\n        return <SchulteTable\n          questionBank={this.questionBank}\n          onFinish={results => this.showResult(results)} />;\n      default:\n        return <QuizSetting\n          questionBank={this.questionBank}\n          onStart={option => this.onStart(option)} />;\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"header\">\n          {this.state.isShowResult || <span className=\"close\" onClick={() => this.onClose()}>x</span>}\n        </div>\n        {this.renderSwitch(this.state.componentName)}\n        {this.state.isShowResult &&\n          <QuizResult\n            enableReview={this.state.enableReview}\n            results={this.state.results}\n            onReview={() => this.onReview()}\n            onClose={() => this.onClose()} />}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(QuizPage);","export default class RandomUtil {\n\n    static pickRandomItems = (arr, count) => {\n        let items = []\n        for (let i = 0; i < count; i++) {\n            let index = this.getRandomInt(arr.length);\n            let item = arr.splice(index, 1)[0];\n            items.push(item);\n        }\n        return items;\n    }\n\n    static getRandomInt = (max) => {\n        return this.getRandomIntRange(0, max);\n    }\n\n    static getRandomIntRange = (min, max) => {\n        return Math.floor(Math.random() * (max - min) + min);\n    }\n}","import i18n from \"i18next\";\nimport RandomUtil from \"../utils/random.js\";\n\nexport default class QuestionBankBase {\n\n  constructor() {\n    this.settings = {\n      component: \"QuizAttempt\",\n      enableReview: true,\n      choiceCount: 6,\n      options: [{\n          title: i18n.t(\"sections\"),\n          name: \"sections\",\n          type: \"multiple-choice\"\n        },\n        {\n          title: i18n.t(\"answering-method\"),\n          name: \"anwser-method\",\n          type: \"single-choice\",\n          selections: [{\n              text: i18n.t(\"choice\"),\n              value: \"choice\",\n              selected: true\n            },\n            {\n              text: i18n.t(\"filling\"),\n              value: \"filling\"\n            }\n          ]\n        },\n        {\n          title: i18n.t(\"time-limit\"),\n          name: \"timeoutSeconds\",\n          type: \"range-slider\",\n          value: 10,\n          unit: i18n.t(\"seconds\"),\n          min: 3,\n          max: 60,\n          step: 1\n        },\n        {\n          title: i18n.t(\"number-of-questions\"),\n          name: \"questionCount\",\n          type: \"range-slider\",\n          value: 20,\n          unit: i18n.t(\"questions\"),\n          min: 10,\n          max: 100,\n          step: 5\n        }\n      ]\n    };\n  }\n\n  getTitle = () => this.getSetting(\"title\");\n\n  getCount = () => this.count;\n\n  getCursor = () => this.cursor;\n\n  generateChoices = (question) => {\n    let answer = question.answer.value;\n    let answerRange = question.answerRange || 20;\n    let seeds = [];\n    for (let i = Math.max(2, answer - answerRange); i < answer + answerRange; i++) {\n      if (i !== answer) seeds.push({\n        text: this.convertText(i),\n        value: i\n      });\n    }\n\n    let randomCount = this.getSetting(\"choiceCount\") - 1;\n    let choices = RandomUtil.pickRandomItems(seeds, randomCount);\n    choices.splice(RandomUtil.getRandomInt(randomCount), 0, {\n      text: this.convertText(answer),\n      value: answer\n    });\n    return choices;\n  }\n\n  setQuestions = (questions) => {\n    this.questions = questions || [];\n    this.count = this.questions.length;\n    this.cursor = 0;\n  }\n\n  nextQuestion = () => {\n    if (this.questions.length === 0) return null;\n    this.cursor++;\n    let index = RandomUtil.getRandomInt(this.questions.length);\n    let question = this.questions.splice(index, 1)[0];\n    question.choices = this.generateChoices(question);\n    return this.currentQuestion = question;\n  }\n\n  checkAnswer = (reply) => {\n    return reply != null && reply.toString() === this.currentQuestion.answer.value.toString();\n  }\n\n  convertText = (value) => {\n    return value.toString();\n  }\n\n  getOptions = () => {\n    let sections = this.getSections();\n    sections[0].selected = true;\n\n    let options = this.getSetting(\"options\");\n\n    return options.map(x => {\n      if (x.name === \"sections\") x.selections = sections;\n      else if (x.name === \"timeoutSeconds\") x.value = 10;\n      else if (x.name === \"questionCount\") x.value = 20;\n      return x;\n    });\n  }\n\n  setSettings = (options) => {\n    options.forEach(option => {\n      this.settings[option.name] = option.selections || option.value;\n    });\n  }\n\n  getSetting = (name) => {\n    return this.settings[name];\n  }\n}","import i18n from \"i18next\";\nimport RandomUtil from \"../utils/random.js\";\nimport QuestionBankBase from \"./base.js\";\n\nexport default class SchulteTableQuestionBank extends QuestionBankBase {\n\n  constructor() {\n    super();\n    this.settings[\"route\"] = \"schulte-table\";\n    this.settings[\"title\"] = i18n.t(this.settings[\"route\"]);\n    this.settings[\"component\"] = \"SchulteTable\";\n    this.settings[\"enableReview\"] = false;\n  }\n\n  getOptions = () => {\n    let sections = this.getSections();\n    sections[0].selected = true;\n\n    return [{\n        title: i18n.t(\"sections\"),\n        name: \"sections\",\n        type: \"single-choice\",\n        selections: sections\n      },\n      {\n        title: i18n.t(\"character\"),\n        name: \"character\",\n        type: \"single-choice\",\n        selections: [{\n            text: \"123\",\n            value: \"numeral\",\n            selected: true\n          },\n          {\n            text: \"ㄅㄆㄇ\",\n            value: \"ㄅㄆㄇㄈㄉㄊㄋㄌㄍㄎㄏㄐㄑㄒㄓㄔㄕㄖㄗㄘㄙㄧㄨㄩㄚㄛㄜㄝㄞㄟㄠㄡㄢㄣㄤㄥㄦ\"\n          },\n          {\n            text: \"ABC\",\n            value: \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"\n          },\n          {\n            text: \"abc\",\n            value: \"abcdefghijklmnopqrstuvwxyz\"\n          },\n          {\n            text: \"あいう\",\n            value: \"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわをん\"\n          },\n          {\n            text: \"アイウ\",\n            value: \"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲン\"\n          }\n        ]\n      }\n    ];\n  }\n\n  getSections = () => {\n    let sections = [];\n    for (let i = 3; i <= 9; i++) {\n      sections.push({\n        text: `${i} x ${i} ${i18n.t(\"grid\")}`,\n        value: i\n      });\n    }\n    return sections;\n  }\n\n  initQuestions = () => {\n    let section = this.getSetting(\"sections\")[0].value;\n    let characters = this.characters = this.getCharacters(this.getSetting(\"character\")[0].value);\n    let squareRoot = Math.min(section, Math.ceil(Math.sqrt(characters.length)));\n    let count = Math.pow(squareRoot, 2);\n\n    let questions = [];\n    for (let i = 1; i <= count; i++) {\n      let char = characters[i - 1];\n      questions.push(char == null ? null : {\n        text: char,\n        value: i\n      });\n    }\n\n    this.setQuestions(RandomUtil.pickRandomItems(questions, count));\n  }\n\n  nextQuestion = () => {\n    this.cursor = 0;\n    return this.questions;\n  }\n\n  checkAnswer = (reply) => {\n    return reply != null && reply === this.cursor;\n  }\n\n  nextCursor = () => {\n    if (this.cursor >= this.questions.length) return null;\n    let current = this.cursor++;\n    let character = this.characters[current];\n    return (character == null) ? null : {\n      text: character,\n      value: current\n    };\n  }\n\n  getCharacters = (str) => {\n    if (str === \"numeral\") return Array.from({\n      length: Math.pow(9, 2)\n    }, (x, i) => i + 1);\n    return str.split(\"\");\n  }\n}","import i18n from \"i18next\";\nimport RandomUtil from \"../utils/random.js\";\nimport QuestionBankBase from \"./base.js\";\n\nexport default class AdditionQuestionBank extends QuestionBankBase {\n\n  constructor() {\n    super();\n    this.settings[\"route\"] = \"addition\";\n    this.settings[\"title\"] = i18n.t(this.settings[\"route\"]);\n  }\n\n  getSections = () => {\n    return [{\n        text: i18n.t(\"add-within-10\"),\n        minimum: 0,\n        minSummation: 1,\n        maxSummation: 10,\n        answerRange: 10, \n        maxCount: 45\n      },\n      {\n        text: i18n.t(\"add-within-20\"),\n        minimum: 0,\n        minSummation: 10,\n        maxSummation: 20,\n        answerRange: 10\n      },\n      {\n        text: i18n.t(\"two-digit-addition\"),\n        minimum: 10,\n        minSummation: 20,\n        maxSummation: 99,\n        answerRange: 20\n      },\n      {\n        text: i18n.t(\"three-digit-addition\"),\n        minimum: 100,\n        minSummation: 200,\n        maxSummation: 999,\n        answerRange: 50\n      },\n      {\n        text: i18n.t(\"four-digit-addition\"),\n        minimum: 1000,\n        minSummation: 2000,\n        maxSummation: 9999,\n        answerRange: 50\n      }\n    ];\n  }\n\n  initQuestions = () => {\n    let sections = this.getSetting(\"sections\") || this.getSections();\n    let questionCount = this.getSetting(\"questionCount\");\n    let questionCountOfSection = Math.ceil(questionCount / sections.length);\n    let questions = [];\n    sections.forEach(section => {\n      let hashMap = new Map();\n      while (hashMap.size < Math.min(questionCountOfSection, section.maxCount || questionCount)) {\n        let summation = RandomUtil.getRandomIntRange(section.minSummation, section.maxSummation);\n        let x = RandomUtil.getRandomIntRange(section.minimum, summation - section.minimum);\n        let y = summation - x;\n        let key = `${x} + ${y}`;\n        hashMap.set(key, {\n          description: key,\n          answer: {\n            text: this.convertText(summation),\n            value: summation\n          },\n          answerRange: section.answerRange\n        });\n      }\n      hashMap.forEach((value) => {\n        questions.push(value);\n      });\n    });\n    questions = RandomUtil.pickRandomItems(questions, Math.min(questionCount, questions.length));\n    for (let i = 0; questions.length < questionCount; i++) {\n      if (i >= questions.length) i = 0;\n      questions.push(questions[i]);\n    }\n    this.setQuestions(questions);\n  }\n}","import i18n from \"i18next\";\nimport RandomUtil from \"../utils/random.js\";\nimport QuestionBankBase from \"./base.js\";\n\nexport default class SubtractionQuestionBank extends QuestionBankBase {\n\n  constructor() {\n    super();\n    this.settings[\"route\"] = \"subtraction\";\n    this.settings[\"title\"] = i18n.t(this.settings[\"route\"]);\n  }\n\n  getSections = () => {\n    return [{\n        text: i18n.t(\"subtract-within-10\"),\n        minimum: 0,\n        minSummation: 1,\n        maxSummation: 10,\n        answerRange: 10,\n        maxCount: 45\n      },\n      {\n        text: i18n.t(\"subtract-within-20\"),\n        minimum: 0,\n        minSummation: 10,\n        maxSummation: 20,\n        answerRange: 10\n      },\n      {\n        text: i18n.t(\"two-digit-subtraction\"),\n        minimum: 10,\n        minSummation: 20,\n        maxSummation: 99,\n        answerRange: 20\n      },\n      {\n        text: i18n.t(\"three-digit-subtraction\"),\n        minimum: 100,\n        minSummation: 200,\n        maxSummation: 999,\n        answerRange: 50\n      },\n      {\n        text: i18n.t(\"four-digit-subtraction\"),\n        minimum: 1000,\n        minSummation: 2000,\n        maxSummation: 9909,\n        answerRange: 50\n      }\n    ];\n  }\n\n  initQuestions = () => {\n    let sections = this.getSetting(\"sections\") || this.getSections();\n    let questionCount = this.getSetting(\"questionCount\");\n    let questionCountOfSection = Math.ceil(questionCount / sections.length);\n    let questions = [];\n    sections.forEach(section => {\n      let hashMap = new Map();\n      while (hashMap.size < Math.min(questionCountOfSection, section.maxCount || questionCount)) {\n        let x = RandomUtil.getRandomIntRange(section.minSummation, section.maxSummation);\n        let y = RandomUtil.getRandomIntRange(section.minimum, x);\n        let summation = x - y;\n        let key = `${x} - ${y}`;\n        hashMap.set(key, {\n          description: key,\n          answer: {\n            text: this.convertText(summation),\n            value: summation\n          },\n          answerRange: section.answerRange\n        });\n      }\n      hashMap.forEach((value) => {\n        questions.push(value);\n      });\n    });\n    questions = RandomUtil.pickRandomItems(questions, Math.min(questionCount, questions.length));\n    for (let i = 0; questions.length < questionCount; i++) {\n      if (i >= questions.length) i = 0;\n      questions.push(questions[i]);\n    }\n    this.setQuestions(questions);\n  }\n}","import i18n from \"i18next\";\nimport QuestionBankBase from \"./base.js\";\n\nexport default class MultiplicationQuestionBank extends QuestionBankBase {\n\n  constructor(level) {\n    super();\n    switch (level || 1) {\n      case 2:\n        this.settings[\"multiplier\"] = 11;\n        this.settings[\"multiplicand\"] = 19;\n        this.settings[\"route\"] = \"multiplication-19x19\";\n        break;\n      default:\n        this.settings[\"multiplier\"] = 2;\n        this.settings[\"multiplicand\"] = 9;\n        this.settings[\"route\"] = \"multiplication-9x9\";\n        break;\n    }\n    this.settings[\"title\"] = i18n.t(this.settings[\"route\"]);\n    this.settings[\"options\"] = this.settings[\"options\"].filter(x => x.name !== \"questionCount\");\n  }\n\n  getSections = () => {\n    let sections = [];\n    let multiplier = this.getSetting(\"multiplier\");\n    let multiplicand = this.getSetting(\"multiplicand\");\n    for (let i = multiplier; i <= multiplicand; i++) {\n      sections.push({\n        text: `${i} x ${multiplicand}`,\n        value: i\n      });\n    }\n    return sections;\n  }\n\n  initQuestions = () => {\n    let sections = this.getSetting(\"sections\");\n    let multiplicand = this.getSetting(\"multiplicand\");\n    let questions = [];\n    (sections || this.getSections())\n    .forEach(section => {\n      for (let i = 2; i <= multiplicand; i++) {\n        questions.push({\n          description: `${section.value} x ${i}`,\n          answer: {\n            text: this.convertText(section.value * i),\n            value: section.value * i\n          },\n        });\n      }\n    });\n    this.setQuestions(questions);\n  }\n}","import React, { Component } from \"react\";\n\nexport default class Clock extends Component {\n  constructor(props) {\n    super(props);\n    this.canvas = React.createRef();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.disableSecondhand = nextProps.disableSecondhand;\n    this.drawClock(nextProps.hhmmss);\n  }\n\n  componentDidMount() {\n    this.disableSecondhand = this.props.disableSecondhand;\n    this.drawClock(this.props.hhmmss);\n  }\n\n  drawClock = (hhmmss) => {\n    let canvas = this.canvas.current;\n    canvas.height = canvas.width;\n    let context = canvas.getContext(\"2d\");\n    let radius = canvas.height / 2;\n    context.translate(radius, radius);\n    radius = radius * 0.90;\n    this.context = context;\n    this.radius = radius;\n    let arr = (hhmmss || \"00:00:00\").split(\":\");\n    let hour = arr[0] || \"0\";\n    let minute = arr[1] || \"0\";\n    let second = arr[2] || \"0\";\n\n    this.drawFace();\n    this.drawNumbers();\n    this.drawTime(hour, minute, second);\n  }\n\n  drawFace = () => {\n    let context = this.context;\n    let radius = this.radius;\n    context.beginPath();\n\n    // Base Plate\n    context.arc(0, 0, radius, 0, 2 * Math.PI);\n    context.fillStyle = \"white\";\n    context.fill();\n\n    // Outside frame\n    // let grad = context.createRadialGradient(0, 0, radius * 0.95, 0, 0, radius * 1.05);\n    // grad.addColorStop(0, \"red\");\n    // grad.addColorStop(0.5, \"yellow\");\n    // grad.addColorStop(1, \"green\");\n    // context.strokeStyle = grad;\n    // context.lineWidth = radius * 0.1;\n    // context.stroke();\n  }\n\n  drawNumbers = () => {\n    let context = this.context;\n    let radius = this.radius;\n    context.beginPath();\n    context.fillStyle = \"black\";\n    context.font = `bold ${radius * 0.2}px arial`;\n    context.textBaseline = \"middle\";\n    context.textAlign = \"center\";\n    for (let num = 1; num < 13; num++) {\n      let ang = num * Math.PI / 6;\n      context.rotate(ang);\n      context.translate(0, -radius * 0.85);\n      context.rotate(-ang);\n      context.fillText(num.toString(), 0, 0);\n      context.rotate(ang);\n      context.translate(0, radius * 0.85);\n      context.rotate(-ang);\n    }\n  }\n\n  drawTime = (hour, minute, second) => {\n    let radius = this.radius;\n\n    // Hour\n    hour = hour % 12;\n    hour = (hour * Math.PI / 6) +\n      (minute * Math.PI / (6 * 60)) +\n      (second * Math.PI / (360 * 60));\n    this.drawHand(hour, radius * 0.4, radius * 0.07);\n\n    // Minute\n    minute = (minute * Math.PI / 30) + (second * Math.PI / (30 * 60));\n    this.drawHand(minute, radius * 0.7, radius * 0.05);\n\n    // Second\n    if (this.disableSecondhand === \"true\") return;\n    second = (second * Math.PI / 30);\n    this.drawHand(second, radius * 0.6, radius * 0.02, \"red\");\n  }\n\n  drawHand = (pos, length, width, style) => {\n    let context = this.context;\n    style = style || \"black\"\n\n    // Center of Clock\n    context.beginPath();\n    context.arc(0, 0, length * width * 0.015, 0, 2 * Math.PI);\n    context.fillStyle = style;\n    context.fill();\n\n    // Hand of Clock\n    context.beginPath();\n    context.strokeStyle = style;\n    context.lineWidth = width;\n    context.lineCap = \"round\";\n    context.moveTo(0, 0);\n    context.rotate(pos);\n    context.lineTo(0, -length);\n    context.stroke();\n    context.rotate(-pos);\n  }\n\n  render() {\n    return (\n      <canvas className=\"clock\" ref={this.canvas} width={this.props.width || 200} />\n    );\n  }\n}","import i18n from \"i18next\";\nimport RandomUtil from \"../utils/random.js\";\nimport QuestionBankBase from \"./base.js\";\nimport Clock from \"../../components/clock.jsx\";\n\nexport default class ClockQuestionBank extends QuestionBankBase {\n  secondsInDay = 24 * 60 * 60;\n\n  constructor() {\n    super();\n    this.settings[\"route\"] = \"clock\";\n    this.settings[\"title\"] = i18n.t(this.settings[\"route\"]);\n  }\n\n  getOptions = () => {\n    let sections = this.getSections();\n    sections[0].selected = true;\n\n    return [{\n        title: i18n.t(\"sections\"),\n        name: \"sections\",\n        type: \"single-choice\",\n        selections: sections\n      },\n      {\n        title: i18n.t(\"time-limit\"),\n        name: \"timeoutSeconds\",\n        type: \"range-slider\",\n        value: 10,\n        unit: i18n.t(\"seconds\"),\n        min: 3,\n        max: 60,\n        step: 1\n      },\n      {\n        title: i18n.t(\"number-of-questions\"),\n        name: \"questionCount\",\n        type: \"range-slider\",\n        value: 20,\n        unit: i18n.t(\"questions\"),\n        min: 10,\n        max: 100,\n        step: 5\n      }\n    ];\n  }\n\n  getSections = () => {\n    return [{\n        text: i18n.t(\"o-clock\"),\n        intervalSeconds: 60 * 60,\n        answerRange: 10,\n        maxCount: 12\n      },\n      {\n        text: i18n.t(\"half-an-hour\"),\n        intervalSeconds: 30 * 60,\n        answerRange: 10,\n        maxCount: 24\n      },\n      {\n        text: i18n.t(\"five-minutes\"),\n        intervalSeconds: 5 * 60,\n        answerRange: 10\n      },\n      {\n        text: i18n.t(\"one-minute\"),\n        intervalSeconds: 1 * 60,\n        answerRange: 10\n      },\n      {\n        text: i18n.t(\"one-second\"),\n        intervalSeconds: 5,\n        answerRange: 120\n      }\n    ];\n  }\n\n  initQuestions = () => {\n    let sections = this.getSetting(\"sections\") || this.getSections();\n    let questionCount = this.getSetting(\"questionCount\");\n    let questionCountOfSection = Math.ceil(questionCount / sections.length);\n    let questions = [];\n    sections.forEach(section => {\n      let hashMap = new Map();\n      while (hashMap.size < Math.min(questionCountOfSection, section.maxCount || questionCount)) {\n        let disableSecondhand = section.intervalSeconds !== 5;\n        let random = RandomUtil.getRandomInt(this.secondsInDay / 2);\n        random = random - random % section.intervalSeconds;\n        let key = this.convertText(random, disableSecondhand);\n        hashMap.set(key, {\n          description: <Clock hhmmss={key} disableSecondhand={disableSecondhand.toString()} />,\n          answer: {\n            text: key,\n            value: random\n          },\n          answerRange: section.answerRange,\n          intervalSeconds: section.intervalSeconds,\n          disableSecondhand: disableSecondhand\n        });\n      }\n      hashMap.forEach((value) => {\n        questions.push(value);\n      });\n    });\n    questions = RandomUtil.pickRandomItems(questions, Math.min(questionCount, questions.length));\n    for (let i = 0; questions.length < questionCount; i++) {\n      if (i >= questions.length) i = 0;\n      questions.push(questions[i]);\n    }\n    this.setQuestions(questions);\n  }\n\n  generateChoices = (question) => {\n    let answer = question.answer.value;\n    let answerRange = question.answerRange * question.intervalSeconds;\n    let intervalSeconds = question.intervalSeconds;\n    let seeds = [];\n    for (let i = Math.max(0, answer - answerRange); i < Math.min(answer + answerRange, this.secondsInDay / 2); i += intervalSeconds) {\n      if (i !== answer) seeds.push({\n        text: this.convertText(i, question.disableSecondhand),\n        value: i\n      });\n    }\n\n    let randomCount = this.getSetting(\"choiceCount\") - 1;\n    let choices = RandomUtil.pickRandomItems(seeds, randomCount);\n    choices.splice(RandomUtil.getRandomInt(randomCount), 0, {\n      text: this.convertText(answer, question.disableSecondhand),\n      value: answer\n    });\n    return choices;\n  }\n\n  convertText = (value, disableSeconds) => {\n    let hour = Math.floor(value / (60 * 60));\n    let minute = Math.floor(value % (60 * 60) / 60);\n    let second = value % 60;\n\n    hour = hour === 0 ? 12 : hour;\n    let result = `${hour.toString().padStart(2, \"0\")}:${minute.toString().padStart(2, \"0\")}`;\n    if (!disableSeconds) result += `:${second.toString().padStart(2, \"0\")}`;\n\n    return result;\n  }\n}","import i18n from \"i18next\";\nimport QuizPage from \"./pages/quiz-page.jsx\";\n\nimport SchulteTableQuestionBank from \"./libs/question-bank/schulte-table.js\";\nimport AdditionQuestionBank from \"./libs/question-bank/addition.js\";\nimport SubtractionQuestionBank from \"./libs/question-bank/subtraction.js\";\nimport MultiplicationQuestionBank from \"./libs/question-bank/multiplication.js\";\nimport ClockQuestionBank from \"./libs/question-bank/clock.js\";\n\nexport const AppRoutes = [{\n    path: \"/schulte-table\",\n    title: i18n.t(\"schulte-table\"),\n    component: <QuizPage questionBank={() => new SchulteTableQuestionBank()}/>\n},\n{\n    path: \"/addition\",\n    title: i18n.t(\"addition\"),\n    component: <QuizPage questionBank={() => new AdditionQuestionBank()}/>\n},\n{\n    path: \"/subtraction\",\n    title: i18n.t(\"subtraction\"),\n    component: <QuizPage questionBank={() => new SubtractionQuestionBank()}/>\n},\n{\n    path: \"/multiplication-9x9\",\n    title: i18n.t(\"multiplication-9x9\"),\n    component: <QuizPage questionBank={() => new MultiplicationQuestionBank()}/>\n},\n{\n    path: \"/multiplication-19x19\",\n    title: i18n.t(\"multiplication-19x19\"),\n    component: <QuizPage questionBank={() => new MultiplicationQuestionBank(2)}/>\n},\n{\n    path: \"/clock\",\n    title: i18n.t(\"clock\"),\n    component: <QuizPage questionBank={() => new ClockQuestionBank()}/>\n}];","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport i18n from \"i18next\";\nimport { AppRoutes } from \"../app-routes.js\";\n\nexport default class MenuPage extends Component {\n\n  constructor(props) {\n    super(props);\n    this.title = i18n.t(\"app-name\");\n  }\n\n  componentDidMount() {\n    document.title = this.title;\n  }\n\n  render() {\n    return (\n      <nav className=\"menu\">\n        <h1>{this.title}</h1>\n        <ul>\n          {AppRoutes.map((route, i) =>\n            <li key={i}>\n              <Link className=\"btn green\" to={route.path}>{route.title}</Link>\n            </li>)}\n        </ul>\n      </nav>\n    );\n  }\n}","import React, { Component } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport i18n from \"i18next\";\nimport { AppRoutes } from \"./app-routes.js\";\nimport MenuPage from \"./pages/menu-page.jsx\";\nimport { withNamespaces } from \"react-i18next\";\n\nclass App extends Component {\n\n  componentDidMount() {\n    this.setMeta(\"description\", i18n.t(\"app-description\"));\n    this.setMeta(\"keywords\", i18n.t(\"app-keywords\"));\n  }\n\n  setMeta = (key, content) => {\n    const el = document.querySelector(`meta[name='${key}']`);\n    el.setAttribute(\"content\", content)\n  }\n\n  render() {\n    return (\n      <Router>\n        <div className=\"app\">\n          <Switch>\n            {AppRoutes.map((route, i) =>\n              <Route key={i} path={route.path} component={() => route.component} />\n            )}\n            <Route exact component={MenuPage} />\n          </Switch>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default withNamespaces()(App);","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/main.css\";\nimport \"./i18n\";\nimport App from \"./app.jsx\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n"],"sourceRoot":""}